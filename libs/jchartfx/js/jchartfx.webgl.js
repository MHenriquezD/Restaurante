(function(){function T(r,a){a[1]=1-Math.sqrt(.499*r.r*r.r+.387*r.g*r.g+.114*r.b*r.b)/255;a[0]=1.26}function Y(r,a){var c=Math.sqrt(.549*r.r*r.r+.257*r.g*r.g+.184*r.b*r.b);var b=r.r/10;r=Math.abs(r.r-r.g)<=b&&Math.abs(r.r-r.b)<=b?!0:!1;r&&(c=Math.min(192,c));255<c&&(c=255);a[1]=Math.sqrt(1-c/255);a[0]=.85}function U(){return this._wglHeightFactor?this._wglHeightFactor:.2}function V(r){this._wglHeightFactor=r}function W(){return this._wglAngleZ?this._wglAngleZ:0}function X(r){this._wglAngleZ=r}if("undefined"!==
typeof window){var z=window.sfx;var v=window.cfx}else z=require("../Framework/debug.system.js"),v=z.cfx;v.webglVersion="7.6.7367.23301";v.PointAttributes.prototype.get3D=function(){this._wgl0||(this._wgl0=new J(this));return this._wgl0};var Q=function d(a,c,b){d._ic();this._0=a;this._2=this._1=null;this._11=this._10=this._9=this._8=this._7=this._6=this._5=this._4=this._3=0;this._12=!0;this._13=null;this._16=this._15=this._14=!1;this._17=0;this.rLines=!0;this._18=!1;this._19={};this._20=80;this._24=
this._23=this._22=this._21=0;this._25=.85;this._27=this._26=!1;this._29=this._28=null;this._30=0;this._31=new K(this);if(void 0===b){if(a=navigator.userAgent,0<=a.indexOf("Chrome/")||0<=a.indexOf("Trident/"))this._30=1}else this._30=b;this._30&1&&(this._15=!0);this._32=r.create();this._33=r.create();void 0!==c&&(this._uc=c)};v.WebGLEngine=Q;Q.prototype={getLights:function(){return this._31},getWall:function(){null==this._28&&(this._28=new J);return this._28},getShininess:function(){return this._25},
setShininess:function(a){this._25=a},getOptions:function(){return this._29},setOptions:function(a){this._29=a},ib$:function(){return this._0.getAngleX()},ib_:function(){return this._0.getAngleY()},icb:function(){return this._0.c},ica:function(){return 5},icg:function(a){if(6==a){if(a=this._34&&this._34.length){var c=1,b=this._0.getAngleY();90<b&&270>b&&(c=-1);this._35.a.u==c?this.repaint():a=!1}return a}this._17=a;this._36&&(this._36._wglHint=a);return!1},icu:function(a,c,b,d,e,f,g){if(g){null!=this._2&&
c!=this._2&&this._1&&this._16&&(this._M0(this._1),this._16=!1);if(this._2=c)this._36=c.idl();c={x1:d.x,y1:d.y,x2:d.x+d.w,y2:d.y+d.h};d={x1:b.x,y1:b.y,x2:b.x+b.w,y2:b.y+b.h};g&2?(b=this._37,null==b&&(this._37=b=this._38),this._21=(d.x1-b.x1)/(b.x2-b.x1),this._22=(d.y1-b.y1)/(b.y2-b.y1),this._23=(d.x2-d.x1)/(b.x2-b.x1),this._24=(d.y2-d.y1)/(b.y2-b.y1)):(this._23=0,this._39=b.w,this._40=b.h);this._38=c;this._41=d;this._42=e;this._43=f;this._44=this._39;this._45=this._40;0==(this._uc&2)&&(e=window.devicePixelRatio||
1,this._44*=e,this._45*=e);e=Math.log(2);this._44=Math.pow(2,Math.ceil(Math.log(this._44)/e));this._45=Math.pow(2,Math.ceil(Math.log(this._45)/e));e=!0;a&&(e=a.b.l&4096);this._M1(e)}},icc:function(a,c){var b=this._1,d=!0;a.idN=v.bn.prototype._drawStringAngle2Canvas;b&&(null!=this._2&&a!=this._2?this._M0(b):d=!this._16);this._2=a;this._35=c;this._34=[];this._18=!1;this._46=a.idh()&8;this._26=!1;this._48=this._47=T;this._49=[0,0];this._50=z.m.b;this._27=!1;this._51=this._25;this._36=a=a.idl();this._52=
a._c;a=a.S;var e=this;z._M?(a._Cp=e._52._pc,a.cfxDetect=function(a,b){e._M2(e._1);a=e._M3(e._1,b.pageX,b.pageY);b=document.createElement("g");null!=a&&b.setAttribute("sfxid",a);return b},a.addEventListener("touchstart",z._tFS,!1),a.addEventListener("touchmove",z._tFM,!1),a.addEventListener("touchend",z._tFE,!1)):a.onmousemove=function(a){var b=e._M3(e._1,a.offsetX,a.offsetY),d=e._52._pc.S,c=e.targetInfo;void 0===c&&(c={},e.targetInfo=c,c.target=document.createElement("g"),c._dh=!0,c.allowClose=!0);
null!=b?c.target.setAttribute("sfxid",b):c.target.removeAttribute("sfxid");d.onmousemove.call(d,a,c)};d&&this._M4()},ici:function(){var a=this._1;null!=this._36._wglTexts?(this._53=this._36._wglTexts,this._M5(a,this._53)):this._53=null;this._54=null;z._M||this._M2(a);this._37=null},ict:function(a,c,b,d){this._55=b;this._46&&(this._18=!0)},_M6:function(){this._55=this._36._Gv("fill",this._55,null,0);this._18=!1},ice:function(a,c,b,d,e,f,g,k,h){e=null;f=this._M7(d);if(4!=this._17||null!=this._28)g=
4==this._17?this._28.hash:this._35.b.u,k=null,null!=g&&(k=new z._p1(e),g.tryGetValue(k,"3DModel")&&(e=k.a.bar)),this._M8(g,k,f);0!=h&&(e={style:"Faces",faces:h});c.b==b.b?this._M9(c,b,f,1):c.a==b.a?this._M9(c,b,f,1):c.c==b.c?this._M9(c,b,f,1):null==e||"Cube"==e.style?this._M10(c,b,f):"Faces"==e.style?this._M11(c,b,f,e):"Cylinder"==e.style?this._M12(c,b,f,e):"CylinderHole"==e.style?this._M13(c,b,f,e):"Pyramid"==e.style?this._M14(a,!0,c,b,d,0,e.faces?e.faces:4,e):"Cone"==e.style&&this._M14(a,!1,c,b,
d,0,e.faces?e.faces:30,e)},icq:function(a,c){return 0==c?(this._36._wglLastZ=a.c,new z.e(a.b,a.a)):this._M15(a,this._33,null)},icr:function(a,c,b){0==b?(this._36._wglLastZ=a.c,c.x=a.b,c.y=a.a):this._M15(a,this._33,c)},ick:function(a,c,b,d){this._0.c?(d.b=a,d.a=c,d.c=b,this._0.A(d)):(d.b=.35355*a,d.a=.35355*c,d.c=~~(-a/2)+b-~~(3*c/4));return 0>d.c},icp:function(a,c,b,d,e,f,g,k){if(!g){if(null==d)return;var h=d.C;if(0==h.a)return}if(null!=f&&3<=b){a=f.I();if(k&1){k=Array(3*b);d=Array(3*b);for(p=f=0;f<
b;f++)e=c[f],k[p]=(e.b-this._3)*this._5-this._9,d[p++]=0,k[p]=(this._4-e.a)*this._6-this._10,d[p++]=0,k[p]=(this._7-e.c)*this._8-this._11,d[p++]=0;this._M16(k,d,a,!0);g&&(g=g.I())}else{b=a.length;var m=oldIndices=a;k=Array(3*b);d=Array(3*b);var l=null;g&&(l=Array(b));for(var n,p=f=0,t=0;t<b;f+=3,t+=3)n=a[f],e=c[n],k[p]=(e.b-this._3)*this._5-this._9,d[p++]=0,k[p]=(this._4-e.a)*this._6-this._10,d[p++]=0,k[p]=(this._7-e.c)*this._8-this._11,d[p++]=0,g&&(l[t]=g.getItem(n)),n=a[f+1],e=c[n],k[p]=(e.b-this._3)*
this._5-this._9,d[p++]=0,k[p]=(this._4-e.a)*this._6-this._10,d[p++]=0,k[p]=(this._7-e.c)*this._8-this._11,d[p++]=0,g&&(l[t+1]=g.getItem(n)),n=a[f+2],e=c[n],k[p]=(e.b-this._3)*this._5-this._9,d[p++]=0,k[p]=(this._4-e.a)*this._6-this._10,d[p++]=0,k[p]=(this._7-e.c)*this._8-this._11,d[p++]=0,m[t]=t,m[t+1]=t+1,m[t+2]=t+2,g&&(l[t+2]=g.getItem(n));a=m;g=l;this._M16(k,d,a,!0)}this._M17(this._1,k,d,a,h,null,null,null,g)}else 4==b&&(e=c[0],this._M9(e,c[2],h,1))},ich:function(a,c,b,d,e,f,g,k){if(this.rLines){a=
{};a.b=b;a.a=d;a.c=e;var h={};h.b=f;h.a=g;h.c=k;var m=c.C;c=c.m();d==g&&e==k?(h.a+=c,this._M9(a,h,m,2)):b==f&&d==g?(h.a+=c,this._M9(a,h,m,2)):b==f&&e==k&&(h.c-=c,this._M9(a,h,m,2))}},ai:function(a){},icx:function(a,c,b,d,e,f,g,k,h,m){a=[];e=[];f=[];d=this._M7(d);k=null;var l=this._35.b.u,n=null;null!=l&&(k=new z._p1(n),l.tryGetValue(k,"3DModel")&&(n=k.a.area));this._M8(l,k,d);a=this._M18(c.b,c.a,c.c,b.b,b.a,b.c,h+b.a,m+c.a,g,a,e,f,n);this._M17(this._1,a,e,f,d,null,null,null)},ico:function(a,c,b,d,
e,f){a=[];b=[];e=[];d=this._M7(d);var g=null;if(f){var k=this._35.b.u;null!=k&&(f=new z._p1(g),k.tryGetValue(f,"3DModel")&&(g=f.a.line));null!=g&&"Plane"==g.style&&(g=null)}if(g){f=c[0];var h=c[1];k=f.a;var m=(f.c+h.c)/2,l=Math.abs(f.c-h.c)/8;h=c[2];c=h.a;"Cylinder"==g.style?this._M19(f.b,k,m,h.b,c,m,l,d,g):a=this._M18(f.b,k-l,m+l,h.b,c+l,m-l,k+l,c-l,2147483647,a,e,b,g)}else{k=1E3;m=-1E3;for(g=0;4>g;g++){f=c[g];l=f.b;var n=(l-this._3)*this._5-this._9,p=(this._4-f.a)*this._6-this._10;f=(this._7-f.c)*
this._8-this._11;if(0==g||n<k)h=g;k=Math.min(k,l);m=Math.max(m,l);a.push(n);a.push(p);a.push(f)}c=0;k==m&&k==this._38.x1&&(c=.005);if(0!=c)for(g=0;4>g;g++)a[3*g]+=c;k=a[h];l=a[h+1];m=a[h+2];c=a[(h+3)%12]-k;f=a[(h+4)%12]-l;g=a[(h+5)%12]-m;k=a[(h+6)%12]-k;l=a[(h+7)%12]-l;m=a[(h+8)%12]-m;h=[0,0,0];h[0]=f*m-g*l;h[1]=g*k-c*m;h[2]=c*l-f*k;F.normalize(h);0>h[1]&&(h[0]=-h[0],h[1]=-h[1],h[2]=-h[2]);for(g=0;4>g;g++)e.push(h[0]),e.push(h[1]),e.push(h[2]);this._M20(b,0)}this._M17(this._1,a,e,b,d,null,null,null)},
icm:function(a,c,b,d){},icl:function(a,c,b,d,e){},_M21:function(a,c,b,d,e,f,g,k,h,m,l,n){var p=null;var t=.5;null!=e&&(p=e.silhouette,void 0!=p&&"string"==typeof p&&(p=p.toLowerCase()),void 0!==e.granularity&&0!=e.granularity&&(t=e.granularity),m=m&&"off"!=e.topBevel,l=l&&"off"!=e.bottomBevel);var u=!0,q=!0;if(p&&"basic"!=p)if("bevel"==p){p=[];0==k&&(p.push([0,0,0]),p.push([0,0,0]));(u=Math.min(e.size,.5))||(u=.005);var x=.5==u;u*=h;var r=Math.max(1,e.count)+1,y=e.facets,C=this._M22(Math.PI/2,r,u),
z=2*(r-1),B=n?1:0,E=n?0:1;if(l)for(var w=0,A=z;w<r;w++,A-=2){var H=C[A];var v=C[A+1];var D=[0,0,0];D[B]=1-u+v;D[E]=u-H;p.push(D);y&&p.push(D)}else D=[0,0,0],D[B]=1,p.push(D),y&&p.push(D);if(m)for(A=w=0;w<r;w++,A+=2)0==w&&x||(H=C[A],v=C[A+1],D=[0,0,0],D[B]=1-u+v,D[E]=h-u+H,p.push(D),y&&p.push(D));else D=[0,0,0],D[B]=1,D[E]=h,p.push(D),y&&p.push(D);if(0!=k){q=!1;var F=k;e.taurus&&(F=Math.max(F,1-2*u));e=p[p.length-1][0];if(m)for(w=0,A=z;w<r;w++,A-=2)H=C[A],v=C[A+1],m=F+u-v,m>e||(D=[0,0,0],D[B]=m,D[E]=
h-u+H,p.push(D),y&&p.push(D));else D=[0,0,0],D[B]=k,D[E]=h,p.push(D),y&&p.push(D);if(l)for(A=w=0;w<r;w++,A+=2)0==w&&x||(H=C[A],v=C[A+1],m=F+u-v,m>e||(D=[0,0,0],D[B]=m,D[E]=u-H,p.push(D),y&&p.push(D)));else D=[0,0,0],D[B]=k,p.push(D),y&&p.push(D)}else D=[0,0,0],D[E]=h,p.push(D),p.push(D),p.push([0,0,0]),p.push([0,0,0]);u=!1}else p=[[0,0,0],[1,0,0],[1,0,0],[1,1,0],[1,1,0],[0,1,0],[0,1,0],[0,0,0],[0,0,0]];else p=[[0,0,0],[1,0,0],[1,0,0],[1,1,0],[1,1,0],[0,1,0],[0,1,0],[0,0,0],[0,0,0]];0>g&&(f+=g,g=-g);
l={};this._M23(l,f,g,t,n);f=p.length;for(w=g=0;w<f;w++)if(e=p[w],m=e[0],t=e[1],e=e[2],n?(t*=a,u&&(m*=h),g=Math.max(g,t)):(m*=a,u&&(t*=h),g=Math.max(g,m)),e*=a,u||1!=a)p[w]=[m,t,e];if(0!=k&&q)for(w=0;w<f;w++)e=p[w],.5>e[B]&&(e[B]+=(g-e[B])*k);a=l.innerPoints;k=l.outerPoints;h=k.length;q=[0,0,0];for(w=0;w<h;w++)B=a[h-w-1],g=k[h-w-1],q[0]=g[0]-B[0],q[1]=g[1]-B[1],q[2]=g[2]-B[2],this._M24(c,b,d,p,f,B,q,0!=w,n);this._M25(c,b,d,f)},_M22:function(a,c,b){a/=c-1;for(var d=[],e=0;e<c;e++){var f=a*e,g=Math.cos(f)*
b;d.push(Math.sin(f)*b);d.push(g)}return d},icn:function(a,c,b,d,e,f,g,k,h,m,l){a=this._M7(e);e=null;f=this._35.b.u;g=null;null!=f&&(g=new z._p1(e),f.tryGetValue(g,"3DModel")&&(e=g.a.pie));this._M8(f,g,a);this._56=c;g=1;c=h.w/c.w;h=this._57;f=0;m=this._35.bC;k=this._35.b.d;k!=v.Gallery.Pie&&k!=v.Gallery.Doughnut?m&&((g=m.a)||(g=1)):f=m.z;k=[];m=[];l=[];this._M21(g,k,m,l,e,b,d,c,h,!0,!0,!1);this._M16(k,m,l);g=null;var n=1;n=0!=this._23?this._M26():n*(1-(1-Math.min(100,Math.max(10,this._35.b.r))/100)/
2);0!=f&&(n*=1-f/(100+f));var p=[n,n,n];0!=this._23&&(g=this._M27(h,null,this._58,!1));this._M17(this._1,k,m,l,a,g,p,this._59);k=this._35.b.d;k!=v.Gallery.Pie&&k!=v.Gallery.Doughnut||0!=this._60||this._M28(b,d,f,g,n,h,c,e,0,null)},_M29:function(a){var c=null;a&&(c=a.shadow);if(!c)c={};else if("off"==c.visible)return null;void 0===c.alpha&&(c.alpha=192);void 0===c.factor&&(c.factor=20);void 0===c.radius&&(c.radius=2);void 0===c.yOffset&&(c.yOffset=3);void 0===c.xOffset&&(c.xOffset=0);return c},_M28:function(a,
c,b,d,e,f,g,k,h,m){var l=this._M29(k);if(l){var n=this._35.e,p=n==this._35.o,t=n==this._35.q,u={start:a,end:0==b?a:a+c,offset:this._35.bS/100};if(p){var q={};var x=this._M30(d,null);null==m?(this._M31(x,f,g,d,e,b,h,!1,q,k),0!=g&&this._M31(x,f,g,d,e,b,h,!0,q,k)):u._PT=m;q.areas=[];q.areas.push(u);0!=b&&(this._61=q)}else if(0!=b){q=this._61;a=q.areas;var r=!1;for(c=0;c<a.length;c++)if(n=a[c],this._M32(n,u,!1)){r=!0;break}r||a.push(u)}if(p&&0==b||t&&0!=b){p=this._35.c.idl();t=p._sG2();u=new v.eT;u.ip("Radius",
l.radius.toString(),!0);r=new z.as(z.m.l(l.alpha,l.factor,l.factor,l.factor));a=q.areas;if(0!=b){var y=!1;for(c=0;c<a.length;c++){n=a[c];for(var C=c+1;C<a.length;C++)if(this._M32(n,a[C],!0)){y=!0;a.splice(C,1);break}if(y)break}}for(c=0;c<a.length;c++)n=a[c],null!=m?this._M33(n,x,d,e,r,u,t,l,q):this._M34(n,f,g,d,e,b,h,r,u,t,k,l,q);p._eG2(t)}}},_M30:function(a,c){var b=r.create();r.translate(this._33,[0,0,-2],b);a&&r.translate(b,a);r.multiply(b,this._62);this._59&&r.multiply(b,this._59);c&&r.translate(b,
c);return b},_M31:function(a,c,b,d,e,f,g,k,h,m){var l=c,n=b;b=0;var p=-1,t=1,u=-1,q=1,x=0,r=0;1==g&&(null!=d?(u=p=-.5,q=t=1.5,r=x=.5):(u=p=-1,q=t=1,r=x=.2),l=0,b=-1);p*=e;t*=e;u*=e;q*=e;l*=e;b*=e;null!=m&&("Bevel"==m.silhouette&&(b+=m.size*c*.5),m.taurus&&(n=Math.max(n,1-2*m.size*c)));k&&(p*=n,t*=n,u*=n,q*=n);0!=f&&15<=this._63&&!this._64&&(b=(l+b)/2);c=this._M35([p,l,r,1],a,null);l=this._M35([t,l,r,1],a,null);u=this._M35([x,b,u,1],a,null);a=this._M35([x,b,q,1],a,null);k?(h.h0=c,h.h1=l,h.h2=u,h.h3=
a):(h.p0=c,h.p1=l,h.p2=u,h.p3=a)},_M32:function(a,c,b){if(a.offset==c.offset){var d=.01>Math.abs(c.end-a.start);if(!d&&.01>Math.abs(c.start-a.end))return a.end=c.end,!0;if(d||b&&.01>Math.abs(c.end+360-a.start))return a.start=c.start,!0}return!1},_M34:function(a,c,b,d,e,f,g,k,h,m,l,n,p){var t=n.yOffset,u=n.xOffset;n=null;var q=a.start,x=a.end;if(0!=a.offset){p=r.create();r.identity(p);var L=this._M36((q+x)/2);r.rotate(p,L,[0,1,0]);a=[a.offset*e,0,0];r.multiplyVec3(p,a);p={};a=this._M30(d,a);this._M31(a,
c,b,d,e,f,g,!1,p,l);0!=b&&this._M31(a,c,b,d,e,f,g,!0,p,l)}g=p.p0;l=p.p1;e=p.p2;f=p.p3;m._se(h);c=g.x+u;d=e.y+t;g=l.x-g.x+u;e=f.y-e.y+t;if(0!=b){var y=p.h0.x+u;var C=p.h1.x-p.h0.x+u;var v=p.h3.y-p.h2.y+t;var B=d+(e-v)/2}q==x?0==b?m.F(k,c,d,g,e):(n=new z.aB,n.g(c,d,g,e,0,360),n.g(y,B,C,v,0,-360)):(x*=-1,q*=-1,0>x&&0<q&&(x+=360),360<=q&&360>x&&(q-=360),t=x-q,x<q&&(t=360-q+x,x=q+t),n=new z.aB,0==b?n.y({x:c,y:d,w:g,h:e},q,t):(n.g(c,d,g,e,q,t),n.g(y,B,C,v,x,-t)));null!=n&&m.H(k,n);m._ee(h)},_M33:function(a,
c,b,d,e,f,g,k,h){b=k.yOffset;k=k.xOffset;g._se(f);h=new z.aB;a=a._PT;for(var m=[],l=[0,-1,0,1],n=a.length/2-1,p=0,t=0;p<n;p++,t+=2){l[0]=a[t]*d;l[1]=-1*d;l[2]=a[t+1]*d;l[3]=1;var u=this._M35(l,c,null);u.x+=k;u.y+=b;m.push(u)}h.z(m);g.H(e,h);g._ee(f)},ics:function(a,c,b,d,e,f,g,k,h,m,l){this._M14(a,!0,c,b,d,h,l?l:4,null)},icd:function(a,c,b,d,e,f,g,k,h,m,l){this._M14(a,!1,c,b,d,h,l?l:30,null)},icf:function(a,c,b,d,e,f,g,k){a=this._M7(d);this._M12(c,b,a,null)},icv:function(a,c,b,d,e){a=this._M7(d);
this._M37(c.b,c.a,c.c,b,a,null)},_M11:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var g=(c.b-this._3)*this._5-this._9,k=(this._4-c.a)*this._6-this._10,h=(this._7-c.c)*this._8-this._11;c=this._Y;h<a&&(a=h);k<f&&(h=f,f=k,k=h);g<e&&(h=e,e=g,g=h);h=this._1;var m=[e,f,a],l=[1,1,1];if(c){l[0]=g-e;var n=k-f;var p=0}else l[1]=k-f,n=g-e,p=1;var t="F,"+d.faces+","+d.bevel+","+d.bevelCount;t+=","+d.bevelSide+","+d.sideFaces;var u="on"==
d.bottomBevel;var q=0,x=!1,r=0;var y=1;var C=0,z=null;d.bevel?(q=d.bevel*n,u&&(l[p]-=1*q,m[p]+=q)):u=!1;this.isAxis||0==this._23||(l=this._M26(),l=[l,l,l],y*=k-f,m=this._M27(1,null,this._58,!1),C=f,x=!0,r=-n/2,z=this._59);if(p=x?null:this._65[t])n=p.Vertices,u=p.Normals,y=p.Indices,p.bottomVertices&&this._M42(0,h,p.bottomVertices,p.bottomNormals,p.bottomIndices,b,[c?g-q:e,f,a],null,null,h.TRIANGLES),p.capVertices&&(this._M42(0,h,n,u,y,b,m,l,null,h.TRIANGLES),n=p.capVertices,u=p.capNormals,y=p.capIndices);
else{x=[];var B=[],E=[],w=d.faces;d.bevel&&(y*=1-q);r=this._M38(!1,w,r,n,d);this._M39(w,r,r,0,y,x,B,E,c);C&&this._M40(x,0,C,0);p={};this._M41(h,p,"",x,B,E);"off"!=d.cap?(this._M42(0,h,p.Vertices,p.Normals,p.Indices,b,m,l,z,h.TRIANGLES),u?(x=[],B=[],E=[],m=this._M43(w,r,d.bevelCount,q,0,x,B,E,d,n,c),this._M44(w,m,c?q:0,x,B,E,c,-1),this._M41(h,p,"bottom",x,B,E),m=[c?g-q:e,f,a],this._M42(0,h,p.bottomVertices,p.bottomNormals,p.bottomIndices,b,m,null,null,h.TRIANGLES)):p.bottomVertices=null,x=[],B=[],
E=[],u=r,y=0,d.bevel&&(u=this._M43(w,r,d.bevelCount,0,q,x,B,E,d,n,c),c||(y=q)),this._M44(w,u,y,x,B,E,c,1),this._M41(h,p,"cap",x,B,E),n=p.capVertices,u=p.capNormals,y=p.capIndices):(p.capVertices=null,n=p.Vertices,u=p.Normals,y=p.Indices);this._65[t]=p}"off"!=d.cap&&(l=null,m=d.bevel?c?[e,f,a]:[e,k-(k-f)*q,a]:c?[g,f,a]:[e,k,a]);this._M42(0,h,n,u,y,b,m,l,null,h.TRIANGLES)},_M38:function(a,c,b,d,e){var f=0,g=0;if(e){f=e.bevelSide;g=e.sideFaces?Math.max(1,e.sideFaces)+1:16;var k=f*d}(e=4==c)&&this._64&&
this._35.b.d==v.Gallery.Pyramid&&(e=!1);if(e)if(c=b,e=b+d,a&&(a=(d-Math.cos(Math.PI/4)*d)/2,c+=a,e-=a),f){a=[];var h=Math.PI/2/(g-1);f=[];for(b=0;b<g;b++){d=h*b;var m=Math.sin(d)*k;d=Math.cos(d)*k;f.push(m);f.push(d)}h=2*(g-1);e-=k;c+=k;b=0;for(k=h;b<g;b++,k-=2)m=f[k],d=f[k+1],a.push(e+d),a.push(e+m);for(k=b=0;b<g;b++,k+=2)m=f[k],d=f[k+1],a.push(e+d),a.push(c-m);b=0;for(k=h;b<g;b++,k-=2)m=f[k],d=f[k+1],a.push(c-d),a.push(c-m);for(k=b=0;b<g;b++,k+=2)m=f[k],d=f[k+1],a.push(c-d),a.push(e+m)}else a=[c,
e,e,e,e,c,c,c];else{e=d/2;m=b+e;a=[];h=(c-1)*Math.PI/c;this._64&&(h+=this._66);var l=-(2*Math.PI)/c;k/=2;f&&(e-=k);for(b=0;b<c;b++){d=l*b+h;var n=m+Math.cos(d)*e,p=m+Math.sin(d)*e;if(f){d-=l/2;for(var t=l/(g-1),u=0;u<g;u++){var q=d+u*t;a.push(n+Math.cos(q)*k);a.push(p+Math.sin(q)*k)}}else a.push(n),a.push(p)}}a.push(a[0]);a.push(a[1]);return a},_M39:function(a,c,b,d,e,f,g,k,h){a=c.length/2;var m=c[0],l=c[1],n=b[0],p=b[1],t=n,u=p;if(h){var q=d;d=e;e=q}q=f.length/3;var x=[0,0,0],r=2==b.length,y=d>e;
if(h){var C=1;var z=0}else C=0,z=1;for(var B=1,E=2;B<a;B++,E+=2){var w=c[E],A=c[E+1];r||(t=b[E],u=b[E+1]);h?(f.push(d),f.push(m),f.push(l),f.push(d),f.push(w),f.push(A),f.push(e),f.push(t),f.push(u),f.push(e),f.push(n)):(f.push(m),f.push(d),f.push(l),f.push(w),f.push(d),f.push(A),f.push(t),f.push(e),f.push(u),f.push(n),f.push(e));f.push(p);n=w-m;p=d-d;var v=A-l;m=t-m;var G=e-d;l=u-l;x[C]=p*l-v*G;x[z]=v*m-n*l;x[2]=n*G-p*m;F.normalize(x);y&&(x[0]=-x[0],x[1]=-x[1],x[2]=-x[2]);for(l=0;4>l;l++)g.push(x[0]),
g.push(x[1]),g.push(x[2]);k.push(q);k.push(q+1);k.push(q+2);k.push(q);k.push(q+2);k.push(q+3);q+=4;m=w;l=A;n=t;p=u}},_M43:function(a,c,b,d,e,f,g,k,h,m,l){b=b?Math.max(b,1):1;b+=1;for(var n,p=[],t=0;t<c.length;t++)p[t]=c[t];c=d;var u=Math.PI/2/(b-1);e-=d;for(var q=0;q<b;q++){n=u*q;var x=c+Math.sin(n)*e;n=(e-Math.cos(n)*e)*m;0>e&&(n=-n);n=this._M38(!1,a,n,m-2*n,h);this._M39(a,p,n,d,x,f,g,k,l);if(q==b-1)break;for(t=0;t<n.length;t++)p[t]=n[t];d=x}return n},_M44:function(a,c,b,d,e,f,g,k){a=c.length;if(!(2>=
a)){var h=d.length/3;if(g){var m=-k;k=0}else m=0;for(var l=0,n=2;l<a;l++,n+=2)g?(d.push(b),d.push(c[n])):(d.push(c[n]),d.push(b)),d.push(c[n+1]),e.push(m),e.push(k),e.push(0);c=a-2;for(b=0;b<c;b++)f.push(h+(b+2)%a),f.push(h+(b+1)%a),f.push(h)}},_M45:function(a,c,b,d){for(var e=a.length,f=0;f<e;f+=3)a[f]*=c,a[f+1]*=b,a[f+2]*=d},_M40:function(a,c,b,d){for(var e=a.length,f=0;f<e;f+=3)a[f]+=c,a[f+1]+=b,a[f+2]+=d},_M12:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10;
a=(this._7-a.c)*this._8-this._11;var g=(c.b-this._3)*this._5-this._9,k=(this._4-c.a)*this._6-this._10;c=(this._7-c.c)*this._8-this._11;c<a&&(a=c);k<f&&(c=f,f=k,k=c);g<e&&(c=e,e=g,g=c);c=this._1;var h,m=this._Y,l=h=g-e,n=1,p=h,t=[e,f,a],u=[1,k-f,1],q=1;m&&(h=k-f,l=1,p=n=h,u=[g-e,1,1],q=0);var x=null,r=!1,y=0,C=0;this.isAxis||0==this._23||(t=this._M26(),u=[t,t,t],t=this._M27(1,null,this._58,!1),t[0]-=.5/this._35.ba,x=this._59,r=!0,y=.5-h/2,C=f,n=k-f);d||(d={faces:30});var z="C,"+d.faces+","+d.bevel,
B="on"==d.bottomBevel,E=0;d.bevel?(E=d.bevel*h,B&&(u[q]=k-f-1*E,t[q]+=E)):B=!1;var w=r?null:this._65[z];if(w){h=w.Vertices;var A=w.Normals;var v=w.Indices;w.bottomVertices&&this._M42(0,c,w.bottomVertices,w.bottomNormals,w.bottomIndices,b,[e,f,a],null,null,c.TRIANGLES);w.capVertices&&(this._M42(0,c,h,A,v,b,t,u,x,c.TRIANGLES),h=w.capVertices,A=w.capNormals,v=w.capIndices)}else{A=[];v=[];var G=[],D=[[.5,.5,.5],[.5,.5,.5],[.5,.5,.5]];D[0][q]=0;D[2][q]=1;d.bevel&&(D[2][q]*=1-E);q=d.faces;this._M46(D,q,
A,v,G,null,m);this._M45(A,l,n,p);(y||C)&&this._M40(A,y,C,0);w={};this._M41(c,w,"",A,v,G);"off"!=d.cap?(this._M42(0,c,w.Vertices,w.Normals,w.Indices,b,t,u,x,c.TRIANGLES),B?(x=[],l=[],this._M47(q,A,v,x,l),A=[],v=[],G=[],this._M48(q,D,E,d.bevelCount,h,E,0,A,v,G,m),this._M41(c,w,"bottom",A,v,G),t=[e,f,a],this._M42(0,c,w.bottomVertices,w.bottomNormals,w.bottomIndices,b,t,null,null,c.TRIANGLES)):w.bottomVertices=null,x=[],l=[],this._M47(q,A,v,x,l),A=[],v=[],G=[],d.bevel?this._M48(q,D,E,d.bevelCount,h,0,
E,A,v,G,m):this._M49(q,x,0,A,v,G,m),this._M41(c,w,"cap",A,v,G),h=w.capVertices,A=w.capNormals,v=w.capIndices):(w.capVertices=null,h=w.Vertices,A=w.Normals,v=w.Indices);r||(this._65[z]=w)}"off"!=d.cap&&(u=null,t=d.bevel?m?[g-(g-e)*E,f,a]:[e,k-(k-f)*E,a]:m?[g,f,a]:[e,k,a]);this._M42(0,c,h,A,v,b,t,u,null,c.TRIANGLES)},_M13:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var g=(c.b-this._3)*this._5-this._9,k=(this._4-c.a)*this._6-
this._10,h=(this._7-c.c)*this._8-this._11;c=this._Y;if(h<a){var m=a;a=h;h=m}k<f&&(m=f,f=k,k=m);g<e&&(m=e,e=g,g=m);g-=e;m=k-f;if(c)var l=k=m/2;else g=k=g/2,l=m;var n=d.hole;n||(n=.5);m=[];var p=[],t=[],u=d.size;d.size*=k;this._M21(1,m,p,t,d,0,360,n,1,!0,!0,c);this._M45(m,g,l,k);a+=(h-a)/2;c?this._M40(m,e,f+k,a):this._M40(m,e+k,f,a);this._M16(m,p,t);this._M17(this._1,m,p,t,b,null,null,null);d.size=u},_M47:function(a,c,b,d,e){for(var f=0,g=3*(c.length/3-a);f<a;f++,g+=3)d.push(c[g]),d.push(c[g+1]),d.push(c[g+
2]),e.push(b[g]),e.push(b[g+1]),e.push(b[g+2])},_M46:function(a,c,b,d,e,f,g){var k=2*Math.PI/c,h=[0,0,0],m=[0,0,0],l=[0,0,0];if(g){var n=0;var p=1}else n=1,p=0;for(var t=[],u=0;u<c;u++){var q=k*u;t.push(Math.cos(q));t.push(Math.sin(q))}for(k=0;k<a.length;k++){q=a[k];for(var x=u=0;u<c;u++,x+=2){var r=t[x],y=t[x+1];g?(b.push(q[0]),b.push(q[1]*r+.5)):(b.push(q[0]*r+.5),b.push(q[1]));b.push(q[2]*y+.5);if(0!=k){var C=a[k-1];h[p]=(q[n]-C[n])*r;h[n]=0;h[2]=(q[n]-C[n])*y;F.normalize(h)}else h[p]=0,h[n]=0,
h[2]=0;k<a.length-1?(C=a[k+1],m[p]=(C[n]-q[n])*r,m[n]=0,m[2]=(C[n]-q[n])*y,F.normalize(m)):(m[p]=0,m[n]=0,m[2]=0);l[0]=.5*m[0]+.5*h[0];l[1]=.5*m[1]+.5*h[1];l[2]=.5*m[2]+.5*h[2];F.normalize(l);null!=f&&(l[n]=f[k]);d.push(l[0]);d.push(l[1]);d.push(l[2])}if(0!=k)for(u=0;u<c;u++)q=k*c,x=(1+u)%c,e.push(q+u),e.push(q+x),e.push(q-c+u),e.push(q+x),e.push(q-c+x),e.push(q-c+u)}},_M49:function(a,c,b,d,e,f,g){for(var k=d.length/3,h=0,m=0;h<a;h++,m+=3)g?(d.push(b),d.push(c[m+1]),e.push(1),e.push(0)):(d.push(c[m]),
d.push(b),e.push(0),e.push(1)),d.push(c[m+2]),e.push(0);c=a-2;for(h=0;h<c;h++)f.push(k+(h+2)%a),f.push(k+(h+1)%a),f.push(k)},_M48:function(a,c,b,d,e,f,g,k,h,m,l){d||(d=1);b=[];var n=c[2];c=n[l?1:0];n=n[2];l?b.push([f,c,n]):b.push([c,f,n]);var p=f,t=[];t.push(0);for(var u=0;u<d;u++){var q=f+(g-f)*(u+1)/d,x=Math.PI/2*(u+1)/(d+1),r=Math.sin(x)*(q-p);f>g&&(r=-r);l?b.push([q,c-r,n-r]):b.push([c-r,q,n-r]);t.push(Math.cos(x));f=q}this._M46(b,a,k,h,m,t,l);l?this._M45(k,1,e,e):this._M45(k,e,1,e);lastVertices=
[];lastNormals=[];this._M47(a,k,h,lastVertices,lastNormals);this._M49(a,lastVertices,g,k,h,m,l)},_M23:function(a,c,b,d,e){var f=Math.floor(1/d*b),g=c+b/2,k=[1,0,0],h=[0,1,0],m=2<=d;if(e){var l=k;k=h;h=l}l=r.create();r.identity(l);var n=this._M36(g);r.rotate(l,n,h);n=[this._35.bS/100,0,0];r.multiplyVec3(l,n);if(e){e=0+n[0];g=0+n[1];var p=.5;var t=1}else e=0+n[0],g=0+n[1],p=1,t=.5;var u=0+n[2],q=[],x=[];n=[e,g,u];for(var v=0;v<=f;v++)q.push(n),m&&q.push(n);n=this._M36(c+b);b=this._M36(d);d=F.create();
for(v=0;v<=f;v++)v==f&&(n=this._M36(c)),r.identity(l),r.rotate(l,n,h),r.multiplyVec3(l,k,d),d[0]*=p,d[1]*=t,d[2]*=1,d[0]+=e,d[1]+=g,d[2]+=u,x.push([d[0],d[1],d[2]]),m&&x.push([d[0],d[1],d[2]]),n-=b;a.innerPoints=q;a.outerPoints=x},_M24:function(a,c,b,d,e,f,g,k,h){for(var m,l,n,p=a.length/3,t=h?1:0,u=0;u<e;u++)n=d[u],h?(m=n[0]+f[0],l=g[1]*n[1]+f[1]):(m=g[0]*n[0]+f[0],l=n[1]+f[1]),n=g[2]*n[t]+f[2],a.push(m),a.push(l),a.push(n),c.push(0),c.push(0),c.push(0),p++,k&&0!=u&&this._M50(b,e,p)},_M50:function(a,
c,b){--b;a.push(b);a.push(b-c);a.push(b-c-1);a.push(b);a.push(b-c-1);a.push(b-1)},_M25:function(a,c,b,d){for(var e=a.length/3-1-d,f=0,g=0;f<d;f++,g+=3)a.push(a[g]),a.push(a[g+1]),a.push(a[g+2]),c.push(0),c.push(0),c.push(0);for(f=2;f<d;f++)b.push(e+d+1),b.push(e+d+f),b.push(e+d+f+1);e=a.length/3-1-2*d;if(0<=e)for(f=0,g=3*e;f<d;f++,g+=3)a.push(a[g]),a.push(a[g+1]),a.push(a[g+2]),c.push(0),c.push(0),c.push(0);e=a.length/3-1-d;for(f=2;f<d;f++)b.push(e+f+1),b.push(e+f),b.push(e+1)},_M26:function(){var a=
this._23,c=this._24;1<this._58?a*=this._58:c/=this._58;return Math.min(1,Math.min(a,c))*(1-(1-Math.min(100,Math.max(10,this._35.b.r))/100)/2)},_M27:function(a,c,b,d){var e=a=0,f=0;1<this._35.ba&&(a=2*this._21-(1-1/this._35.ba),b&&1<b&&(a*=b));if(1<this._35.bz){var g=2*this._22-(1-1/this._35.bz);d?f=g:(e=g,b&&1>b&&(e/=b))}c&&(a+=c[0],e+=c[1],f+=c[2]);return[a,e,f]},_M14:function(a,c,b,d,e,f,g,k){var h=(b.b-this._3)*this._5-this._9;a=(this._4-b.a)*this._6-this._10;var m=(this._7-b.c)*this._8-this._11,
l=(d.b-this._3)*this._5-this._9;b=(this._4-d.a)*this._6-this._10;d=(this._7-d.c)*this._8-this._11;e=this._M7(e);d<m&&(m=d);if(b<a){var n=a;a=b;b=n}l<h&&(n=h,h=l,l=n);d=[];var p=[],t=[],u=this._38;u=(this._4-(0<f?u.y2:u.y1))*this._6-this._10;var q=Math.abs(2*u);n=(a-u)/q;var r=(b-u)/q;0>f&&(n=-n,r=-r);if(u=this._67)n=0,r=1;var L=1-n,y=1-r;q=null;l=(l-h)/2;u&&(q=[h,0,m]);if(c){null==k&&(h=null,m=this._35.b.u,null!=m&&(h=new z._p1(k),m.tryGetValue(h,"3DModel")&&(k=h.a.pyramid)),this._M8(m,h,e));m=this._64;
u&&(q[0]+=l,q[2]+=l);0<=f?(h=this._M38(m,g,-1+n,2*L,k),m=1<=r?[0,0]:this._M38(m,g,-1+r,2*y,k)):(h=this._M38(m,g,-1+r,2*y,k),m=1<=n?[0,0]:this._M38(m,g,-1+n,2*L,k),n=a,a=b,b=n);if(u)for(n=0;n<h.length;n+=2)h[n]*=l,h[n+1]*=l;this._M39(g,h,m,a,b,d,p,t,!1);0<f?this._M44(g,m,b,d,p,t,!1,1):this._M44(g,h,a,d,p,t,!1,1)}else h=null,this._M46([[L,a,L],[y,b,y]],g,d,p,t,null,!1),1>r&&(a=[],this._M47(g,d,p,a,[]),this._M49(g,a,b,d,p,t,!1)),u?(q[0]+=l/2,q[2]+=l/2):(q=[-.5,0,-.5],0!=this._23&&(q[0]=-.5/this._35.ba,
q[1]=this._35.b.d==v.Gallery.Pyramid?.5/this._35.bz*Math.sin(this._68):0,q[2]=0));a=g=null;b=1;u?c||(g=[l,1,l]):0!=this._23&&(b=this._M26(),g=[b,b,b],q=this._M27(1,q,this._58,!1),a=this._59);this._M17(this._1,d,p,t,e,q,g,a);!u&&0<f&&this._35.e==this._35.o&&this._M28(0,0,0,0!=this._23?q:null,b,1,0,k,1,h)},_M18:function(a,c,b,d,e,f,g,k,h,m,l,n,p){a=(a-this._3)*this._5-this._9;c=(this._4-c)*this._6-this._10;b=(this._7-b)*this._8-this._11;d=(d-this._3)*this._5-this._9;var t=(this._4-e)*this._6-this._10;
f=(this._7-f)*this._8-this._11;var u=(this._4-g)*this._6-this._10;k=(this._4-k)*this._6-this._10;f<b&&(temp=b,b=f,f=temp);g=0;e=k;var q=c,r=b,v=f;if(p=p?p.bevelSide:0){var y=Math.abs(f-b)*p;e-=y;q-=y;r+=y;v-=y}if(h&65536){m=[a,u,f,d,t,f,d,e,f,a,q,f].concat(m);for(y=0;4>y;y++)l.push(0),l.push(0),l.push(1);g=this._M20(n,g)}if(h&131072){m=m.concat([a,u,b,d,t,b,d,e,b,a,q,b]);for(y=0;4>y;y++)l.push(0),l.push(0),l.push(-1);g=this._M20(n,g)}if(h&262144){t=[d,t,b,d,e,b,d,e,f,d,t,f];m=m.concat(t);for(y=0;4>
y;y++)l.push(1),l.push(0),l.push(0);g=this._M20(n,g)}if(h&524288){t=[a,u,b,a,q,b,a,q,f,a,u,f];m=m.concat(t);for(y=0;4>y;y++)l.push(-1),l.push(0),l.push(0);g=this._M20(n,g)}h&1048576&&(t=[a,c,r,a,c,v,d,k,v,d,k,r],m=m.concat(t),this._M51(t,l,0,2,3),g=this._M20(n,g));p&&(p=[a,q,f,d,e,f,d,k,v,a,c,v],m=m.concat(p),this._M51(p,l,0,2,3),g=this._M20(n,g),p=[a,c,r,d,k,r,d,e,b,a,q,b],m=m.concat(p),this._M51(p,l,0,2,3),g=this._M20(n,g),h&262144&&(t=[d,k,r,d,k,v,d,e,f,d,e,b],m=m.concat(t),this._M51(t,l,0,2,3),
g=this._M20(n,g)),h&524288&&(t=[a,q,f,a,c,v,a,c,r,a,q,b],m=m.concat(t),this._M51(t,l,0,2,3),this._M20(n,g)));return m},_M37:function(a,c,b,d,e,f){d=d/2*this._8;a=[(a-this._3)*this._5-this._9-d/2,(this._4-c)*this._6-this._10-d/2,(this._7-b)*this._8-this._11+d/2];c=[d,d,d];b=this._1;d=this._65.S;if(!d){(d=null!=f?f.faces:0)||(d=30);var g=f=d;d=2;for(var k=[],h=[],m=[],l=0;l<=f;l++){var n=l*Math.PI/f,p=Math.sin(n),t=Math.cos(n);for(n=0;n<=g;n++){var u=2*n*Math.PI/g,q=Math.cos(u)*p,r=t;u=Math.sin(u)*
p;h.push(q);h.push(r);h.push(u);k.push(d*q);k.push(d*r);k.push(d*u)}}for(l=0;l<f;l++)for(n=0;n<g;n++)d=l*(g+1)+n,p=d+g+1,m.push(d),m.push(p),m.push(d+1),m.push(p),m.push(p+1),m.push(d+1);d={};this._M41(b,d,"",k,h,m);this._65.S=d}this._M42(0,b,d.Vertices,d.Normals,d.Indices,e,a,c,null,b.TRIANGLES)},_M19:function(a,c,b,d,e,f,g,k,h){var m="round"!=h.end,l=this._35.e,n=l==this._35.o,p=l==this._35.q;m?l!=this._35.o+this._35.y&&(1==this._35.y?this._M37(a,c,b,g,k,h):this._M37(d,e,f,g,k,h)):(this._M37(a,
c,b,g,k,h),p&&this._M37(d,e,f,g,k,h));var t=(d-a)*this._5,u=(e-c)*this._6;a=(a-this._3)*this._5-this._9;var q=(this._4-c)*this._6-this._10;b=(this._7-b)*this._8-this._11;g*=this._8;(c=h.faces)||(c=30);var x=this._65["C,"+c];x||(x=this._M22(2*Math.PI,c,1));e=[];d=[];f=[];a-=g/4;q-=g/4;b+=g/4;var v=t/1,y=-u;l=0;var C=[0,0,0];u=Math.atan2(u,t);t=r.create();r.identity(t);r.rotate(t,-u,[0,0,1]);u=g;h.connectFactor&&(u=g*h.connectFactor);for(var z=0;2>z;z++){var B=a+z*v;var E=q+z*y;for(h=0;h<c;h++)C[0]=
0,C[1]=x[2*h+1]*u,C[2]=x[2*h]*u,r.multiplyVec3(t,C),e.push(C[0]+B),e.push(C[1]+E),e.push(C[2]+b),d.push(0),d.push(0),d.push(0),1!=z&&(f.push(l+h),f.push(l+(h+1)%c),f.push(l+h+c),f.push(l+(h+1)%c),f.push(l+(h+2)%c),f.push(l+h+c),h==c-1?f.push(l+c):f.push(l+h+c+1),f.push(l+h+c),f.push(l+h),h==c-1?f.push(l+c):f.push(l+h+c+1),f.push(l+h+c),f.push(l+(h+1)%c));l+=c}if(m&&(n||p)){m=e.length/3;l=m-c;m=3*l;(p=p&&0>this._35.y)&&(m=0);for(h=0;h<c;h++,m+=3)e.push(e[m]),e.push(e[m+1]),e.push(e[m+2]),d.push(0),
d.push(0),d.push(0);l+=c;m=e.length/3;C[0]=0;C[1]=g/2;C[2]=g/2;r.multiplyVec3(t,C);p?e.push(C[0]+a):e.push(C[0]+B);e.push(C[1]+E);e.push(C[2]+b);d.push(0);d.push(0);d.push(0);for(h=0;h<c;h++)f.push(l+h),p?(f.push(m),h==c-1?f.push(l):f.push(l+h+1)):(h==c-1?f.push(l):f.push(l+h+1),f.push(m))}this._M16(e,d,f);this._M17(this._1,e,d,f,k,null,null,null)},_M52:function(a,c){var b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW);b.itemSize=2;b.numItems=
4;return b},_M5:function(a,c){this._14=!0;var b=this._12;this._12=!1;var d=this._69;this._15?a.uniform1i(this._69.useTextureUniform,!0):(this._69=this._M53(a,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;void main(void) {gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));}","attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;varying vec2 vTextureCoord;void main(void) {vTextureCoord = aTextureCoord;gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}",
!1,!0,!0),a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA));if(this._35.b.l&4096){var e=r.create();r.identity(e);r.translate(this._70,[0,0,-2],e);var f=this._11;var g=[-1,0,f,1];f=[1,0,f,1];g=this._M35(g,e,null);e=this._M35(f,e,null);e=Math.sqrt((e.x-g.x)*(e.x-g.x)+(e.y-g.y)*(e.y-g.y));g=3}else e=Math.min(this._39*this._71,this._40*this._71),g=2;f=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,f);var k=[0,0,1,0,0,1,0,0,1,0,0,1];a.bufferData(a.ARRAY_BUFFER,new Float32Array(k),a.STATIC_DRAW);
f.itemSize=3;f.numItems=4;var h=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,h);k=[1,0,0,1,0,0,1,0,0,1,0,0];a.bufferData(a.ARRAY_BUFFER,new Float32Array(k),a.STATIC_DRAW);h.itemSize=3;h.numItems=4;var m=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,m);k=[0,1,0,0,1,0,0,1,0,0,1,0];a.bufferData(a.ARRAY_BUFFER,new Float32Array(k),a.STATIC_DRAW);m.itemSize=3;m.numItems=4;k=this._M52(a,[0,0,1,0,1,1,0,1]);var l=this._M52(a,[1,0,1,1,0,1,0,0]),n=this._M52(a,[1,0,0,0,0,1,1,1]);if(this._72){var p=k;k=n;n=p}if(this._73||
180<=this._74){var t=this._M52(a,[0,0,0,1,1,1,1,0]);var u=this._M52(a,[1,0,0,0,0,1,1,1])}else t=this._M52(a,[1,0,1,1,0,1,0,0]),u=this._M52(a,[1,1,0,1,0,0,1,0]);var q=this._72?this._M52(a,[1,1,1,0,0,0,0,1]):this._M52(a,[0,0,0,1,1,1,1,0]);var x=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,x);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),a.STATIC_DRAW);x.itemSize=1;x.numItems=6;p={};p.normalBufferZ=f;p.normalBufferX=h;p.normalBufferY=m;p.TureBufferZ=k;p.TureBufferZR0=l;p.TureBufferX=
t;p.TureBufferXR0=u;p.TureBufferY=q;p.TureBufferZ2=n;p.indexBuffer=x;p.multiplier3D=g;a.uniform1i(this._69.samplerUniform,0);for(g=0;g<c.length;g++)this._M54(a,c[g],e,p);this._14=!1;this._12=b;this._69=d;a.useProgram(d)},_M54:function(a,c,b,d){var e=document.createElement("canvas"),f=e.getContext("2d"),g=96*c.fontSize/72,k=""+g+"px "+c.font;c.st&1&&(k="bold "+k);c.st&2&&(k="italic "+k);f.font=k;var h=f.measureText(c.T),m=c.angle;h=2*h.width;g*=2;var l=Math.log(2),n=Math.pow(2,Math.ceil(Math.log(h)/
l));l=Math.pow(2,Math.ceil(Math.log(g)/l));0==(this._uc&2)?(e.width=2*n,e.height=2*l,e.style.width=""+n+"px",e.style.height=""+l+"px",f.scale(4,4)):(f.canvas.width=n,f.canvas.height=l);f.textAlign="left";f.textBaseline="top";f.clearRect(0,0,n,l);f.fillStyle=c.C._TH();f.font=k;f.fillText(c.T,0,0);f=a.createTexture();a.bindTexture(a.TEXTURE_2D,f);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,e);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,
a.LINEAR_MIPMAP_NEAREST);a.generateMipmap(a.TEXTURE_2D);a.bindTexture(a.TEXTURE_2D,null);e=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);if(90==m||-90==m)k=h,h=g,g=k;n=h*d.multiplier3D/b;l=g*d.multiplier3D/b;var p=0;1==c.align?p=h/4:2==c.align&&(p=h);var t=c.x,u=c.y,q=c.z;b=d.normalBufferZ;k=d.TureBufferZ;var r=0,v=!1;void 0===q&&(v=!0,q=0,b=d.normalBufferY,k=d.TureBufferY,r=2);1==c.hint?(1==c.alignY&&(u-=g/2),30<=this._74&&310>=this._74?(0!=m&&(q=90<=this._74?q+2.5*h:q-2*h,u-=.75*g),b=d.normalBufferX,
k=-90==m?d.TureBufferXR0:d.TureBufferX,r=1):(0!=m&&(t-=2*h,u-=g/2),-90==m&&(k=d.TureBufferZR0),t-=p)):2==c.hint?45<=this._75?(b=d.normalBufferY,k=d.TureBufferY,r=2,t-=p,1==c.alignY&&(q-=p)):t=this._72?t-4*p:t-p:3==c.hint?45<=this._75?(b=d.normalBufferY,k=d.TureBufferY,r=2):30<this._74&&120>this._74?(r=1,k=d.TureBufferX):120<this._74&&180>=this._74?k=d.TureBufferZ:180<this._74&&320>this._74?(r=1,k=d.TureBufferX):320<=this._74&&(t-=2*h):5==c.hint&&(q-=.01,1==c.align&&(t-=h/2),2==c.alignY&&(u-=g));c=
(t-this._3)*this._5-this._9;m=(this._4-u)*this._6-this._10;g=(this._7-q)*this._8-this._11;h=c+n;q=m-l;if(v){if(!this._56)return;c=this._56.w/2;m=this._56.h/2;c=(t-(this._56.x+c))/c;h=c+n;g=(this._56.y+m-u)/m-l;if(1<c||-1>c)return;q=m=this._57+1E-4}1==r?(g=90<this._74?g-n:g-.2*n,n=g+n,c=[c,m,g,c,q,g,c,q,n,c,m,n]):2==r?(this._72&&(g-=l),n=g+l,c=[c,m,g,c,m,n,h,m,n,h,m,g]):c=[c,m,g,h,m,g,h,q,g,c,q,g];a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW);e.itemSize=3;e.numItems=4;a.activeTexture(a.TEXTURE0);
a.bindTexture(a.TEXTURE_2D,f);this._M42(1,a,e,b,d.indexBuffer,k,null,null,null,a.TRIANGLES)},_M1:function(a){var c=this._38,b=c.x2-c.x1,d=c.y2-c.y1,e=this._43-this._42,f=2,g=2;this._11=this._10=this._9=1;a&&(f=d/b*2,g=e/b*2,this._10=d/b,this._11=e/b);this._3=c.x1;this._5=2/b;this._4=c.y2;this._6=f/d;this._7=this._43;this._8=g/e},_M4:function(){var a=this._36;null!=a&&null!=a.S&&"canvas"==a.S.localName&&(this._16=!0,a=this._1=this._M56(a.S),this._M57(a,0,0,0,0,!0),this._65={},this._15&&(shaderProgram=
this._69,a.uniform1i(shaderProgram.samplerUniform,0),a.uniform1i(shaderProgram.useTextureUniform,0),this._M58(a),this._M59(a)))},_M59:function(a){var c=a.createTexture();a.bindTexture(a.TEXTURE_2D,c);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,8,8,0,a.RGBA,a.UNSIGNED_BYTE,null);a.generateMipmap(a.TEXTURE_2D);a.activeTexture(a.TEXTURE0)},_M58:function(a){var c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);for(var b=[],d=0;d<this._20;d++)b.push(0),b.push(0);a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),
a.STATIC_DRAW);c.itemSize=2;c.numItems=this._20;a.bindBuffer(a.ARRAY_BUFFER,c);a.vertexAttribPointer(this._69.TureCoordAttribute,c.itemSize,a.FLOAT,!1,0,0)},_M7:function(a){a=a.C;this._46&&(this._18&&this._M6(),a=this._55);return a},_M16:function(a,c,b,d){for(var e=[0,0,0],f=b.length,g=[],k=a.length/3,h=0;h<k;h++)g[h]=0;for(h=0;h<f;h+=3){var m=b[h],l=b[h+1],n=b[h+2],p=3*m,t=3*l,u=3*n;var q=a[p];var r=a[p+1];var v=a[p+2];var y=a[t];var C=a[t+1];var z=a[t+2];var B=a[u];var E=a[u+1];var w=a[u+2];if(d&&
0>(v-z)*(y-B)-(q-y)*(z-w)){var A=y,H=C,G=z;y=B;C=E;z=w;B=A;E=H;w=G}y-=q;C-=r;z-=v;q=B-q;r=E-r;v=w-v;e[0]=C*v-z*r;e[1]=z*q-y*v;e[2]=y*r-C*q;F.normalize(e);c[p]+=e[0];c[p+1]+=e[1];c[p+2]+=e[2];c[t]+=e[0];c[t+1]+=e[1];c[t+2]+=e[2];c[u]+=e[0];c[u+1]+=e[1];c[u+2]+=e[2];g[m]++;g[l]++;g[n]++}for(a=h=0;h<k;h++,a+=3)b=g[h],1!=b&&(e[0]=c[a]/b,e[1]=c[a+1]/b,e[2]=c[a+2]/b,F.normalize(e),c[a]=e[0],c[a+1]=e[1],c[a+2]=e[2])},_M51:function(a,c,b,d,e){b*=3;d*=3;e*=3;var f=a[b],g=a[b+1],k=a[b+2];b=a[d]-f;var h=a[d+
1]-g;d=a[d+2]-k;f=a[e]-f;g=a[e+1]-g;e=a[e+2]-k;a=[0,0,0];a[0]=h*e-d*g;a[1]=d*f-b*e;a[2]=b*g-h*f;F.normalize(a);for(b=0;4>b;b++)c.push(a[0]),c.push(a[1]),c.push(a[2])},_M57:function(a,c,b,d,e,f){this._76=f;var g=this._0.getPerspective();0>g&&(g=45);2>=g&&(g=0);this._63=g;var k=!0,h=!1;this._64=!1;this._12=!0;if(null!=this._35){var m=this._35.b.d;var l=this._35.b.f}else{var n=this._0.d;m=n.getGallery();l=n.getGalleryAttributes()}null!=this._35&&(this._35.b.l&4096||(1!=this._35.ca.getSeries().getCount()&&
(g=0,this._64=!0),k=!1),this._Y=this._35.a.c);m==v.Gallery.Pie||m==v.Gallery.Doughnut?h=!0:20<m&&(m=l.ic5(0,25,null,null),null!=m&&(m=m.split(","),"Pie"==m[0]?h=!0:"MC"==m[0]&&(this._12=!1)));m=this._31;n=m.getCount();this._13=null;for(l=0;l<n;l++){var p=m.getItem(l);p.getEnabled()&&1==p.getStyle()&&(this._13||(this._13=[]),this._13.push(l),this._13.push(p.getFactor()),this._13.push(p.getDiffuseFactor()))}this._30&3||(this._15=null!=this._13||!this._12);this._M60(a,f);var t=this._69;a.clearColor(c,
b,d,e);a.enable(a.DEPTH_TEST);a.viewport(0,0,a.viewportWidth,a.viewportHeight);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);if(f){this._15&&(a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),a.uniform1i(t.useTextureUniform,!1));this._77=this.icb();this._74=this.ib_();this._75=this.ib$();this._67=k;this._58=b=a.viewportWidth/a.viewportHeight;this._77?0==g?r.ortho(-1*b,1*b,-1,1,-100,100,this._33):r.perspective(g,b,.1,100,this._33):(r.perspective(45,b,.1,100,this._33),this._74=this._75=
0);c=[];b=[];for(l=0;l<n;l++)p=m.getItem(l),c.push(p.v);this._73=this._72=!1;if(this._77&&(e=d=1,k&&(this._72=90<this._74&&270>this._74,this._73=270<=this._74),k&&(90<this._74&&270>this._74&&(e=-1),180<this._74&&360>this._74&&(d=-1)),1!=d||1!=e))for(l=0;l<n;l++)m.getItem(l),k=c[l],f=[],f.push(k[0]*d),f.push(1*k[1]),f.push(k[2]*e),c[l]=f;for(l=0;l<n;l++)p=m.getItem(l),d=F.create(),1==p.getStyle()?F.set(c[l],d):F.normalize(c[l],d),b.push(d);d=r.create();r.identity(d);c=this._41;e=this._42;f=this._7;
l=!0;var u=this._M36(this._74),q=this._M36(this._75);p=null;var x=1;k=d;this._68=q;this._66=u;!this._35||this._35.b.l&4096?this._77&&(r.rotate(d,q,[1,0,0]),r.rotate(d,-u,[0,1,0])):(e=-1,f=1,h?(l=this._35.b.f,x=void 0!==l.getHeightFactor?l.getHeightFactor():.3,this._71=Math.min(100,Math.max(10,this._35.b.r))/100,q=this._M36(90-this._75),r.rotate(d,q,[1,0,0]),h=0,void 0!==l.getAngleZ&&(h=l.getAngleZ()),this._60=h,0!=h&&(h=this._M36(h),r.rotate(d,h,[0,0,1])),this._64&&(k=r.create(),r.identity(k))):(k=
r.create(),r.identity(k),r.rotate(d,q,[1,0,0]),this._64?1<this._35.ba&&(f=1/(1+this._35.bz),e=-f):r.rotate(d,-u,[0,1,0]),this._M1(!1)),this._64?(p=this._59=d,d=r.create(),r.identity(d)):this._59=null,this._62=r.create(),r.identity(this._62),r.multiply(this._62,d),this._57=x,c={x1:-1,y1:-x,x2:1,y2:x},l=!1);this._M61(d,c,e,f,l,g,p);for(l=0;l<n;l++)d=b[l],r.multiplyVec3(k,d);g=m.getAmbientFactor();a.uniform3f(t.ambientColorUniform,g,g,g);this._13&&a.uniform1f(t.materialShininessUniform,this._25);for(l=
0;l<n;l++)p=m.getItem(l),d=b[l],g=p.getFactor(),1!=p.getStyle()&&F.scale(d,-1),p.getEnabled()&&(a.uniform3fv(t["lightDirUniform"+l],d),a.uniform3f(t["lightClrUniform"+l],g,g,g),1==p.getStyle()&&(g=p.getDiffuseFactor(),a.uniform3fv(t["lightDiffuseClrUniform"+l],[g,g,g])))}},_M61:function(a,c,b,d,e,f,g){var k=[];k.push([c.x1,c.y1,b,1]);k.push([c.x1,c.y1,d,1]);k.push([c.x1,c.y2,b,1]);k.push([c.x1,c.y2,d,1]);k.push([c.x2,c.y1,b,1]);k.push([c.x2,c.y1,d,1]);k.push([c.x2,c.y2,b,1]);k.push([c.x2,c.y2,d,1]);
if(e)for(var h=0;h<k.length;h++){var m=k[h];c=(this._4-m[1])*this._6-this._10;b=(this._7-m[2])*this._8-this._11;m[0]=(m[0]-this._3)*this._5-this._9;m[1]=c;m[2]=b}d=[0,0,0];e=r.create();var l=[0,0,0,1],n,p;c=[0,0,0];var t=!1,u=0,q=!1,x=0,v=0,y=0,z=0,F=.65,B=0;b=[1,1,1];for(var E=0;50>E;E++){r.identity(e);r.translate(e,c);r.multiply(e,this._33);r.translate(e,[0,0,-2]);0==f?r.scale(e,b):r.translate(e,d);g?r.multiply(e,g):a&&r.multiply(e,a);var w=this._39;var A=this._40;for(h=p=n=0;h<k.length;h++){m=
k[h];r.multiplyVec4(e,m,l);l[0]/=l[3];l[1]/=l[3];m=(.5*l[0]+.5)*this._39;var H=(-.5*l[1]+.5)*this._40;w=Math.min(w,m);A=Math.min(A,H);n=Math.max(n,m);p=Math.max(p,H)}h=n-w;m=p-A;if(h>this._39||m>this._40)n=Math.max(h/this._39,m/this._40),t?(q?n<v&&(v=n,x=d[2]):(q=!0,x=d[2],v=n),d[2]=(d[2]+u)/2):(0!=z&&1.25<=n&&z!=n?(w=F*n/(z-n),d[2]-=w,F=w):0!=f?d[2]-=.65:(b[0]*=.94,b[1]*=.94,b[2]*=.94),z=n);else{if(0==f)break;h=Math.min(h/this._39,m/this._40);if(.85>h&&(!t||!q||.1<Math.abs(u-x)))t?(h>y&&(u=d[2]),
q?d[2]=(d[2]+x)/2:(0!=B?(w=Math.max(.12,B*(.9-h)/(h-y)),w>=d[2]&&(w=.12)):w=.12,d[2]+=w,B=w),h>y&&(y=h)):(t=!0,u=d[2],y=h,d[2]+=.12,B=.12);else if(h=0,0>A?(A+=(this._40-p)/2,c[1]+=A/this._40,h=!0):p>this._40&&(A=p-this._40+A/2,c[1]+=A/this._40,h=!0),0>w?(A=w+(n-this._39)/2,c[0]-=A/this._39,h=!0):n>this._39&&(A=n-this._39+w/2,c[0]-=A/this._39,h=!0),!h)break}}this._80=d;this._62=r.create();r.identity(this._62);0!=f&&r.translate(this._62,this._80);a&&r.multiply(this._62,a);a=r.create();r.identity(a);
0==f&&r.scale(a,b);r.translate(a,c);r.multiply(a,this._33);this._70=this._33;this._33=a},_M9:function(a,c,b,d){var e=(a.b-this._3)*this._5-this._9,f=(this._4-a.a)*this._6-this._10,g=(this._7-a.c)*this._8-this._11,k=(c.b-this._3)*this._5-this._9,h=(this._4-c.a)*this._6-this._10,m=(this._7-c.c)*this._8-this._11;c=this._1;var l=0,n=0,p=0,t=this._17,u=.005;0>this._35.a.C&&(2==d?t=4:u=-u);e==k?(4!=t&&a.b<=this._38.x1&&(e+=u*d),a=[e,f,g,e,h,g,e,f,m,e,h,m],l=this._72||this._73?-1:1):f==h?(a=[k,f,g,k,f,m,
e,f,g,e,f,m],n=1):(4!=t&&a.c>=this._7&&(g+=u*d),a=[k,f,g,k,h,g,e,f,g,e,h,g],p=this._72?-1:1);this._M17(c,a,[l,n,p,l,n,p,l,n,p,l,n,p],null,b,null,null,null)},_M41:function(a,c,b,d,e,f){var g=d.length/3,k=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,k);a.bufferData(a.ARRAY_BUFFER,new Float32Array(d),a.STATIC_DRAW);k.itemSize=3;k.numItems=g;d=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,d);a.bufferData(a.ARRAY_BUFFER,new Float32Array(e),a.STATIC_DRAW);d.itemSize=3;d.numItems=g;e=null;null!=f&&(e=a.createBuffer(),
a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(f),a.STATIC_DRAW),e.itemSize=1,e.numItems=f.length);c[b+"Vertices"]=k;c[b+"Normals"]=d;c[b+"Indices"]=e},_M62:function(a,c,b,d){var e=c;if(this._12)d&&(e=d[0]);else{e=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);var f=[];if(c){var g=c.r/255;var k=c.g/255;var h=c.b/255;var m=c.a/255}for(var l=0;l<b;l++)d&&(c=d[l],g=c.r/255,k=c.g/255,h=c.b/255,m=c.a/255),f.push(g),f.push(k),f.push(h),f.push(m);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(f),a.STATIC_DRAW);e.itemSize=4;e.numItems=b}return e},_M17:function(a,c,b,d,e,f,g,k,h,m,l){m=this._19;this._M41(a,m,"",c,b,d);c=this._M62(a,e,c.length/3,h);this._M42(0,a,m.Vertices,m.Normals,m.Indices,c,f,g,k,null==d?a.TRIANGLE_STRIP:a.TRIANGLES)},_M20:function(a,c){a.push(c);a.push(c+1);a.push(c+2);a.push(c);a.push(c+2);a.push(c+3);return c+4},_M10:function(a,c,b){var d=(a.b-this._3)*this._5-this._9,e=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;var f=(c.b-this._3)*
this._5-this._9,g=(this._4-c.a)*this._6-this._10;c=(this._7-c.c)*this._8-this._11;if(c<a){var k=a;a=c;c=k}g<e&&(k=e,e=g,g=k);f<d&&(k=d,d=f,f=k);k=this._1;var h=null,m=null,l=null;this.isAxis||0==this._23||(h=this._M26(),m=Math.cos(Math.PI/4),m=[h*m,h,h*m],h=this._M27(1,null,this._58,!1),a-=.5,c-=.5,l=this._59);this._M17(k,[d,e,c,f,e,c,f,g,c,d,g,c,d,e,a,d,g,a,f,g,a,f,e,a,d,g,a,d,g,c,f,g,c,f,g,a,d,e,a,f,e,a,f,e,c,d,e,c,f,e,a,f,g,a,f,g,c,f,e,c,d,e,a,d,e,c,d,g,c,d,g,a],[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,
0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0],[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],b,h,m,l)},_M42:function(a,c,b,d,e,f,g,k,h,m){if(!(a&1)){var l=null,n=this._2.idk();if(null!=n){var p=z.TC(n,v.IUIObject);null==p&&(p=this._2.idj().ieJ(n));null!=p&&(l=p.ift(1))}null!=l&&1<l.length&&"B"==l[0]&&(l=null);n={};n.buffer=b;n.indexBuffer=e;n.A=m;n.normalBuffer=d;n.translation=
g;n.scaling=k;n.rotation=h;n.singleColor=this._12;n.CData=f;n.id=l;this._27&&(l=new z.Z,l.y("3DMatSpecular",this._83),l.y("3DMatShininess",this._51),n.material=l);this._34.push(n)}n=this._69;l=this._32;r.identity(this._32);r.translate(this._32,[0,0,-2]);this._62&&r.multiply(this._32,this._62);g&&r.translate(this._32,g);k&&(l=r.create(),r.translate(this._32,[0,0,0],l),r.scale(this._32,k));h&&r.multiply(this._32,h);c.bindBuffer(c.ARRAY_BUFFER,b);c.vertexAttribPointer(n.vertexPositionAttribute,b.itemSize,
c.FLOAT,!1,0,0);d&&(c.bindBuffer(c.ARRAY_BUFFER,d),c.vertexAttribPointer(n.vertexNormalAttribute,d.itemSize,c.FLOAT,!1,0,0));this._12||!this._76?a&2?c.uniform4fv(n.vertexColorUniform,f):c.uniform4f(n.vertexColorUniform,f.r/255,f.g/255,f.b/255,f.a/255):this._14?(c.bindBuffer(c.ARRAY_BUFFER,f),c.vertexAttribPointer(n.TureCoordAttribute,f.itemSize,c.FLOAT,!1,0,0)):(void 0!==f.r&&void 0!==f.g&&(f=this._M62(c,f,b.numItems)),c.bindBuffer(c.ARRAY_BUFFER,f),c.vertexAttribPointer(n.vertexColorAttribute,f.itemSize,
c.FLOAT,!1,0,0));this._15&&(a=null!=e?e.numItems:b.numItems,a>=this._20&&(this._20=a+20,this._M58(c)));e?(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,e),this.setMatrixUniforms(c,n,l),c.drawElements(m,e.numItems,c.UNSIGNED_SHORT,0)):(this.setMatrixUniforms(c,n,l),c.drawArrays(m,0,b.numItems))},setMatrixUniforms:function(a,c,b){a.uniformMatrix4fv(c.pMatrixUniform,!1,this._33);a.uniformMatrix4fv(c.mvMatrixUniform,!1,this._32);var d=R.create();r.toInverseMat3(b,d);R.transpose(d);a.uniformMatrix3fv(c.nMatrixUniform,
!1,d)},_M36:function(a){return a*Math.PI/180},_M56:function(a){var c=null;try{c=a.getContext("webgl",this._29)||a.getContext("experimental-webgl",this._29),c.viewportWidth=a.width,c.viewportHeight=a.height}catch(b){}c||console.log("Could not initialise WebGL");return c},getShader:function(a,c,b){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return a.getShaderParameter(b,a.COMPILE_STATUS)?b:(alert(a.getShaderInfoLog(b)),null)},_M60:function(a,c){if(this._12||!c){var b="uniform vec4 uVertexColor;";
var d="";var e="gl_FragColor"}else b="attribute vec4 uVertexColor;",d="varying vec4 vColor;",e="vColor";var f=this._31,g=f.getCount(),k="precision mediump float;"+b,h=e+" = uVertexColor;",m=k+"varying vec3 vLightWeighting;",l=e+" = vec4(uVertexColor.rgb * vLightWeighting, uVertexColor.a);";d="attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;"+d;var n="",p="",t="vLightWeighting = vLightWeighting";if(c){for(var u="vLightWeighting = uAmbientColor",
q=0;q<g;q++){var r=f.getItem(q);r.getEnabled()&&(n+="uniform vec3 uLightDirection"+q+";",n+="uniform vec3 uLightColor"+q+";",1==r.getStyle()?(n+="uniform vec3 uLightDiffuseColor"+q+";",p+="vec3 lightDirection"+q+" = normalize(uLightDirection"+q+" - vPosition.xyz);",p+="vec3 reflectionDirection"+q+" = reflect(-lightDirection"+q+", normal);",p+="float specularLightWeighting"+q+" = pow(max(dot(reflectionDirection"+q+", eyeDirection), 0.0), uMaterialShininess);",p+="float diffuseLightWeighting"+q+" = max(dot(normal, lightDirection"+
q+"), 0.0);",t+=" + (uLightColor"+q+" * specularLightWeighting"+q+") + (uLightDiffuseColor"+q+" * diffuseLightWeighting"+q+")"):(u+=" + (uLightColor"+q+" * directionalLightWeighting"+q+")",p+="float directionalLightWeighting"+q+" = max(dot(transformedNormal, uLightDirection"+q+"), 0.0);"))}p+=u+";";t+=";"}b="uniform float uMaterialShininess;uniform vec3 uAmbientColor;"+b;f="precision mediump float;varying vec3 transformedNormal;varying vec4 vPosition;"+b;e+=" = vec4(uVertexColor.rgb * vLightWeighting, uVertexColor.a);";
c?this._13?this._15?this._12?(k=f+n+"varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;void main(void) {vec3 vLightWeighting;vec3 normal = normalize(transformedNormal);vec3 eyeDirection = normalize(-vPosition.xyz);"+p+t+"if (uTexture) gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); else "+e+"}",h=d+"varying vec3 transformedNormal;varying vec4 vPosition;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;uniform bool uTexture;void main(void) {vPosition = uMVMatrix * vec4(aVertexPosition, 1.0);gl_Position = uPMatrix * vPosition;transformedNormal = uNMatrix * aVertexNormal;if (uTexture) {vTextureCoord = aTextureCoord;} else {vTextureCoord = vec2(0, 0);}}"):
(h="precision mediump float;"+b+d+"attribute vec2 aTextureCoord;"+n+"varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;varying vec3 vLightWeighting;void main(void) {vec3 transformedNormal = uNMatrix * aVertexNormal;vec4 vPosition = uMVMatrix * vec4(aVertexPosition, 1.0);vec3 normal = normalize(transformedNormal);vec3 eyeDirection = normalize(-vPosition.xyz);"+p+t+"if (uTexture) {vTextureCoord = aTextureCoord;vColor = vec4(0, 0, 0, 0);} else {vColor = uVertexColor;vTextureCoord = vec2(0, 0);}gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}",
k="precision mediump float;varying vec4 vColor;varying vec3 vLightWeighting;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;void main(void) {if (uTexture) gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); else gl_FragColor = vec4(vColor.rgb * vLightWeighting, vColor.a);}"):(k=f+n+"void main(void) {vec3 vLightWeighting;vec3 normal = normalize(transformedNormal);vec3 eyeDirection = normalize(-vPosition.xyz);"+p+t+e+"}",h=d+"varying vec3 transformedNormal;varying vec4 vPosition;void main(void) {vPosition = uMVMatrix * vec4(aVertexPosition, 1.0);gl_Position = uPMatrix * vPosition;transformedNormal = uNMatrix * aVertexNormal;}"):
this._15?this._12?(k=m+"varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;void main(void) {if (uTexture) gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); else "+l+"}",h="attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;uniform vec3 uAmbientColor;varying vec3 vLightWeighting;"+n+"attribute vec2 aTextureCoord;varying vec2 vTextureCoord;uniform bool uTexture;void main(void) {gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);vec3 transformedNormal = uNMatrix * aVertexNormal;"+
p+"if (uTexture) {vTextureCoord = aTextureCoord;} else {vTextureCoord = vec2(0, 0);}}"):(h="precision mediump float;"+b+d+"attribute vec2 aTextureCoord;"+n+"varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;varying vec3 vLightWeighting;void main(void) {vec3 transformedNormal = uNMatrix * aVertexNormal;vec4 vPosition = uMVMatrix * vec4(aVertexPosition, 1.0);vec3 normal = normalize(transformedNormal);vec3 eyeDirection = normalize(-vPosition.xyz);"+p+t+"if (uTexture) {vTextureCoord = aTextureCoord;vColor = vec4(0, 0, 0, 0);} else {vColor = uVertexColor;vTextureCoord = vec2(0, 0);}gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}",
k="precision mediump float;varying vec4 vColor;varying vec3 vLightWeighting;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;void main(void) {if (uTexture) gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); else gl_FragColor = vec4(vColor.rgb * vLightWeighting, vColor.a);}"):this._12?(k=m+"void main(void) {"+l+"}",h="attribute vec3 aVertexPosition;attribute vec3 aVertexNormal;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform mat3 uNMatrix;uniform vec3 uAmbientColor;varying vec3 vLightWeighting;"+
n+"void main(void) {gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);vec3 transformedNormal = uNMatrix * aVertexNormal;"+p+"}"):(h="precision mediump float;"+b+d+"attribute vec2 aTextureCoord;"+n+"varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;varying vec3 vLightWeighting;void main(void) {vec3 transformedNormal = uNMatrix * aVertexNormal;vec4 vPosition = uMVMatrix * vec4(aVertexPosition, 1.0);vec3 normal = normalize(transformedNormal);vec3 eyeDirection = normalize(-vPosition.xyz);"+
p+t+"if (uTexture) {vTextureCoord = aTextureCoord;vColor = vec4(0, 0, 0, 0);} else {vColor = uVertexColor;vTextureCoord = vec2(0, 0);}gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}",k="precision mediump float;varying vec4 vColor;varying vec3 vLightWeighting;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform bool uTexture;void main(void) {if (uTexture) gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); else gl_FragColor = vec4(vColor.rgb * vLightWeighting, vColor.a);}"):
(k=k+"void main(void) {"+h+"}",h="attribute vec3 aVertexPosition;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;void main(void) {gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);}");this._69=this._M53(a,k,h,c,!0,!1)},_M53:function(a,c,b,d,e,f){c=this.getShader(a,c,a.FRAGMENT_SHADER);var g=this.getShader(a,b,a.VERTEX_SHADER);b=a.createProgram();a.attachShader(b,g);a.attachShader(b,c);a.linkProgram(b);a.getProgramParameter(b,a.LINK_STATUS)||alert("Could not initialise shaders");e&&a.useProgram(b);
b.vertexPositionAttribute=a.getAttribLocation(b,"aVertexPosition");a.enableVertexAttribArray(b.vertexPositionAttribute);d&&(b.vertexNormalAttribute=a.getAttribLocation(b,"aVertexNormal"),a.enableVertexAttribArray(b.vertexNormalAttribute),this._15&&(b.useTextureUniform=a.getUniformLocation(b,"uTexture")));f||(this._12||!d?b.vertexColorUniform=a.getUniformLocation(b,"uVertexColor"):(b.vertexColorAttribute=a.getAttribLocation(b,"uVertexColor"),a.enableVertexAttribArray(b.vertexColorAttribute)));if(f||
d&&this._15)b.TureCoordAttribute=a.getAttribLocation(b,"aTextureCoord"),a.enableVertexAttribArray(b.TureCoordAttribute),b.samplerUniform=a.getUniformLocation(b,"uSampler");b.pMatrixUniform=a.getUniformLocation(b,"uPMatrix");b.mvMatrixUniform=a.getUniformLocation(b,"uMVMatrix");b.nMatrixUniform=a.getUniformLocation(b,"uNMatrix");if(d)for(d=this._31,e=d.getCount(),b.ambientColorUniform=a.getUniformLocation(b,"uAmbientColor"),this._13&&(b.materialShininessUniform=a.getUniformLocation(b,"uMaterialShininess")),
f=0;f<e;f++)c=d.getItem(f),c.getEnabled()&&(b["lightDirUniform"+f]=a.getUniformLocation(b,"uLightDirection"+f),b["lightClrUniform"+f]=a.getUniformLocation(b,"uLightColor"+f),1==c.getStyle()&&(b["lightDiffuseClrUniform"+f]=a.getUniformLocation(b,"uLightDiffuseColor"+f)));return b},_M15:function(a,c,b){if(null==this._1){if(null==this._2){if(b){b.x=a.b;b.y=a.a;return}return new z.e(a.b,a.a)}this._M4()}var d=(a.b-this._3)*this._5-this._9,e=(this._4-a.a)*this._6-this._10;a=(this._7-a.c)*this._8-this._11;
var f=r.create();r.translate(c,[0,0,-2],f);this._62&&r.multiply(f,this._62);return this._M35([d,e,a,1],f,b)},_M35:function(a,c,b){r.multiplyVec4(c,a);if(c=a[3])a[0]/=c,a[1]/=c;c=(.5*a[0]+.5)*this._39;a=(-.5*a[1]+.5)*this._40;return b?(b.x=c,b.y=a,b):new z.e(c,a)},_M0:function(a){a.bindTexture(a.TEXTURE_2D,null);a.bindRenderbuffer(a.RENDERBUFFER,null);a.bindFramebuffer(a.FRAMEBUFFER,null)},_M63:function(a,c){var b=0,d=0,e=Math.ceil(255/c);if(a>=e){var f=Math.floor(a/e);f>=e&&(b=Math.floor(f/e),d=b*
c,f-=b*e,a-=b*e*e);b=f*c;a-=f*e}return[a*c/255,b/255,d/255,1]},_M3:function(a,c,b){b=this._40-b;if(0==(this._uc&2)){var d=window.devicePixelRatio||1;c*=d;b*=d}d=new Uint8Array(4);a.readPixels(c,b,1,1,a.RGBA,a.UNSIGNED_BYTE,d);a=this._84;b=d[0];c=d[1];d=d[2];if(255==b&&255==c&&255==d)return null;b=Math.floor(b/a);var e=Math.ceil(255/a);0!=c&&(b+=e*Math.floor(c/a));0!=d&&(b+=e*e*Math.floor(d/a));return 0<=b&&b<this._85.length?this._85[b].id:null},_M2:function(a){if(null==this._54){var c=this._34.length;
if(0<c){var b=this._M65(a);this._M57(a,1,1,1,1,!1);this._54=b.framebuffer;this._86=b.Ture;b=0;this._85=[];for(var d=this._84=10,e=0;e<c;e++){var f=this._34[e];if(null!=f.id){var g=this._M63(b,d);b++;this._85.push(f);this._M42(3,a,f.buffer,null,f.indexBuffer,g,f.translation,f.scaling,f.rotation,f.A)}}}}},_M65:function(a){var c=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,c);c.width=this._44;c.height=this._45;var b=a.createTexture();a.bindTexture(a.TEXTURE_2D,b);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,c.width,c.height,0,a.RGBA,a.UNSIGNED_BYTE,null);var d=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,d);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,c.width,c.height);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,d);a={};a.framebuffer=c;a.TCanvas=b;
a.renderBuffer=d;return a},_M66:function(a){this._15&&(this._M58(a),this._M59(a));for(var c=this._34.length,b=new z._p1(null),d=0;d<c;d++){var e=this._34[d];void 0!==e.material&&this._M8(e.material,b,null);this._M42(1,a,e.buffer,e.normalBuffer,e.indexBuffer,e.CData,e.translation,e.scaling,e.rotation,e.A)}null!=this._53&&this._M5(a,this._53)},repaint:function(){var a=this._1;a&&(this._M0(a),this._M57(a,0,0,0,0,!0),this._M66(a),0<this._34.length&&(a.bindFramebuffer(a.FRAMEBUFFER,this._54),a.bindTexture(a.TEXTURE_2D,
this._86)))},_M8:function(a,c,b){var d=this._26,e=!1;this._26=!1;var f=this._13;if(f){var g=null;null!=b&&(g=this._48,a&&a.tryGetValue(c,"3DMaterial")?(g=c.a,"string"==typeof g&&(g=g.toLowerCase(),"default"==g?g=T:"contrast"==g?g=Y:"none"==g&&(g=null)),this._48=g):this._48&&(this._48=this._47));null!=g?b!=this._50&&z.m.p(b,this._50)&&(this._50=b,e=this._26=!0,g(b,this._49),this._51=this._49[0],this._83=this._49[1]):(a&&a.tryGetValue(c,"3DMatShininess")?(this._26=!0,c.a!=this._51&&(this._51=c.a,e=
!0)):d&&(e=!0,this._51=this._25),a&&a.tryGetValue(c,"3DMatSpecular")?(this._26=!0,c.a!=this._83&&(this._83=c.a,e=!0)):d&&(this._83=void 0,e=!0),a&&a.tryGetValue(c,"3DMatDiffuse")?(this._26=!0,c.a!=this._87&&(this._87=c.a,e=!0)):d&&(this._87=void 0,e=!0))}if(this._27=e)if(a=this._1,c=this._69,a.uniform1f(c.materialShininessUniform,this._51),f)for(b=0;b<f.length;b+=3)d=f[b],e=void 0!=this._83?this._83:f[b+1],g=void 0!=this._87?this._87:f[b+2],a.uniform3f(c["lightClrUniform"+d],e,e,e),a.uniform3fv(c["lightDiffuseClrUniform"+
d],[g,g,g])},ifg:function(a){a&&!this._0&&(this._0=a.getView3D(),this._88&&(a=a.getAllSeries(),a._wgl0=this._88,a._wgl0._L(a)))},ieU:function(a,c){var b=null;if(a&&this._0){var d=this._0.d;b=d.getAllSeries();d=b._wgl0}if(!a||d)d=c.ifc("AllSeries",d,"WebGLAttributes",0),a||(b?b._wgl0=d:this._88=d);d=this._28;if(!a||d)d=c.ifc("Wall",d,"WebGLAttributes",0),a||(this._28=d);c.ifc("Lights",this._31,"WebGLLightCollection",0)}};Q._dt("WebGLEngine",z.SA,0,v.ieT,v.iff);z.an.prototype._areaCanvas=function(){};
z.an.prototype.drawGLText=function(a,c,b,d){this._wglTexts||(this._wglTexts=[]);var e={};e.T=a;e.C=b.C;e.z=this._wglLastZ;e.align=d.b();e.alignY=d.d();e.font=c.f();e.fontSize=c.g();e.st=c.i();e.hint=this._wglHint;e.angle=0;a=this._cc;null!=a&&(e.C=this._Gv("fill",e.C,a,4),e.font=this._Gv("font-family",e.font,a,1),e.fontSize=this._Gv("font-size",e.fontSize,a,3),"bold"==this._Gv("font-weight","normal",a,1)&&(e.st|=1));this._wglTexts.push(e);return e};z.an.prototype.drawStringCanvas=function(a,c,b,d,
e){a=this.drawGLText(a,c,b,e);a.x=d.x;a.y=d.y};z.an.prototype.drawString1Canvas=function(a,c,b,d,e){a=this.drawGLText(a,c,b,e);a.x=d.x;1==e.b()&&(a.x+=d.w/2);a.y=d.y+d.h/2};z.an.prototype._drawStringAngle2Canvas=function(a,c,b,d,e,f,g){a=this.drawGLText(a,c,b,e);a.x=g.x;a.y=g.y;a.angle=f};v.bn.prototype._drawStringAngle2Canvas=function(a,c,b,d,e,f,g){this.idl()._drawStringAngle2Canvas(a,c,b,d,e,f,g)};z.an.prototype._uc=function(a){this._EA=this._SA=z.an.prototype._areaCanvas;this.C=z.an.prototype.drawStringCanvas;
this.D=z.an.prototype.drawString1Canvas;this._svg2=a};z.an.prototype._sG2=function(){var a=this._g2;a||(a=new z.an,a._F(this._svg2),a._sG(this._c),this._g2=a);return a};z.an.prototype._eG2=function(a){a._eG(this._c)};v.cG.prototype.getImage=function(){return this.d.r.S.toDataURL("image/png")};void 0!==v.VectorPie&&(v.VectorPie.prototype.getHeightFactor=U,v.VectorPie.prototype.setHeightFactor=V,v.VectorPie.prototype.getAngleZ=W,v.VectorPie.prototype.setAngleZ=X);void 0!==v.bD&&(v.bD.prototype.getHeightFactor=
U,v.bD.prototype.setHeightFactor=V,v.bD.prototype.getAngleZ=W,v.bD.prototype.setAngleZ=X);var J=function(a){this._0=a};v.WebGLAttributes=J;J.prototype={getModel:function(){return this.getAttr("3DModel")},setModel:function(a){this._CA("3DModel",a)},getMaterialSpecular:function(){return this.getAttr("3DMatSpecular")},setMaterialSpecular:function(a){this._CA("3DMatSpecular",a)},getMaterialShininess:function(){return this.getAttr("3DMatShininess")},setMaterialShininess:function(a){this._CA("3DMatShininess",
a)},getMaterialDiffuse:function(){return this.getAttr("3DMatDiffuse")},setMaterialDiffuse:function(a){this._CA("3DMatDiffuse",a)},getMaterial:function(){return this.getAttr("3DMaterial")},setMaterial:function(a){this._CA("3DMaterial",a)},getAttr:function(a){return null==this._H?null:this._H.B(a)},_CC:function(a,c){null!=this._0&&this._0.Y(a,c)},_CA:function(a,c){this._CC(a,c);null==this._H&&(this._H=new z.Z);this._H.sB(a,c)},_SH:function(a,c,b,d,e){b.a=this["get"+d]();if(!a||b.a)if(e?c.ie_(b,d,null):
c.ie3(b,d),!a&&b.a)this["set"+d](b.a)},serializeGalleryHelper:function(a,c,b,d,e,f){if(a){var g=null;this._0&&(g=this._0.getGalleryAttributes());var k="get"+d;if(g&&void 0!==g[k])g=g[k](),b.a=g;else return}if(!a||b.a)c=e?c.ie_(b,d,f):c.ie3(b,d),!a&&c&&this._CA("#"+d,b.a)},ieU:function(a,c){var b=this.getModel(),d=a&&b?JSON.stringify(b):"";d=new z._p1(d);if(!a||b)c.ie3(d,"Model"),!a&&d.a&&this.setModel(JSON.parse(d.a));this._SH(a,c,d,"MaterialSpecular",!0);this._SH(a,c,d,"MaterialDiffuse",!0);this._SH(a,
c,d,"MaterialShininess",!0);this._SH(a,c,d,"Material",!1);this.serializeGalleryHelper(a,c,d,"HeightFactor",!1,.2);this.serializeGalleryHelper(a,c,d,"AngleZ",!1,0)},_L:function(a){this._0=a;a=null;for(var c=this._H.x().Sb();1==c.SK();){var b=c.SM(),d=this.getAttr(b);if(0==b.indexOf("#")){if(a||(a=this._0.getGalleryAttributes()),b="set"+b.substr(1),a&&a[b])a[b](d)}else this._CC(b,d)}}};J._dt("W",z.SA,0,v.ieT);var K=function(a){this._0=[];this.setStyle("Default");this.webGL=a;for(var c=0;c<this._0.length;c++)this._0[c].webGL=
a};v.WebGLLightCollection=K;K.prototype={getStyle:function(){return this.style},setStyle:function(a){this.style=a;this.clear();var c=new I;c.setX(-1);var b=new I;b.setZ(-1);var d=new I;d.setY(-1);var e=new S;e.setDiffuseFactor(0);e.setX(8);e.setY(2.8);e.setZ(1.3);e.setEnabled(!0);"ContrastCylinder"==a?(this._1=.18,c.setFactor(.18),b.setFactor(.47),d.setFactor(.33),e.setFactor(.34)):"ContrastPie"==a?(this._1=.21,c.setFactor(.2),b.setFactor(.63),d.setFactor(.54),e.setFactor(.34),e.setX(1.73),e.setY(2.8),
e.setZ(.76)):(this._1=.2,c.setFactor(.33),b.setFactor(.67),d.setFactor(.8),e.setFactor(.17));this.add(c);this.add(b);this.add(d);this.add(e);this.webGL&&this.webGL.repaint()},getAmbientFactor:function(){return this._1},setAmbientFactor:function(a){this._1=a;this.webGL&&this.webGL.repaint()},getCount:function(){return this._0.length},getItem:function(a){return this._0[a]},setItem:function(a,c){this._0[a]=c},add:function(a){this._0.push(a);a.webGL=this.webGL},removeAt:function(a){this._0.splice(a,1)},
clear:function(){this._0=[]},ieU:function(a,c){var b=this.style,d=new z._p1(0);a&&"Default"==b||(d.a=b,c=c.ie3(d,"Style"),!a&&c&&this.setStyle(d.a))}};K._dt("W",z.SA,0,v.ieT);var I=function c(){this.v=[0,0,0];this._0=.25;this._1=!0;c._ic()};v.WebGLLight=I;I.prototype={getStyle:function(){return 0},getEnabled:function(){return this._1},setEnabled:function(c){this._1=c;this.repaint()},getFactor:function(){return this._0},setFactor:function(c){this._0=c;this.repaint()},getX:function(){return this.v[0]},
setX:function(c){this.v[0]=c;this.repaint()},getY:function(){return this.v[1]},setY:function(c){this.v[1]=c;this.repaint()},getZ:function(){return this.v[2]},setZ:function(c){this.v[2]=c;this.repaint()},repaint:function(){this.webGL&&this.webGL.repaint()}};I._dt("W",z.SA,0);var S=function b(){b._ic();this._10=0};S.prototype={getStyle:function(){return 1},getDiffuseFactor:function(){return this._10},setDiffuseFactor:function(b){this._10=b}};S._dt("W",I,0);glMatrixArrayType="undefined"!=typeof Float32Array?
Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:Array;var F={create:function(b){return new glMatrixArrayType(3)},set:function(b,d){d[0]=b[0];d[1]=b[1];d[2]=b[2];return d},scale:function(b,d,e){b[0]*=d;b[1]*=d;b[2]*=d;return b},normalize:function(b,d){d||(d=b);var e=b[0],f=b[1];b=b[2];var g=Math.sqrt(e*e+f*f+b*b);if(g){if(1==g)return d[0]=e,d[1]=f,d[2]=b,d}else return d[0]=0,d[1]=0,d[2]=0,d;g=1/g;d[0]=e*g;d[1]=f*g;d[2]=b*g;return d}},R={create:function(b){return new glMatrixArrayType(9)},
transpose:function(b,d){d=b[1];var e=b[2],f=b[5];b[1]=b[3];b[2]=b[6];b[3]=d;b[5]=b[7];b[6]=e;b[7]=f;return b}},r={create:function(b){return new glMatrixArrayType(16)},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toInverseMat3:function(b,d){var e=b[0],f=b[1],g=b[2],k=b[4],h=b[5],m=b[6],l=b[8],n=b[9];b=b[10];var p=b*h-m*n,t=-b*k+m*l,u=n*k-h*l,q=e*p+f*t+g*u;if(!q)return null;q=1/q;d||(d=R.create());
d[0]=p*q;d[1]=(-b*f+g*n)*q;d[2]=(m*f-g*h)*q;d[3]=t*q;d[4]=(b*e-g*l)*q;d[5]=(-m*e+g*k)*q;d[6]=u*q;d[7]=(-n*e+f*l)*q;d[8]=(h*e-f*k)*q;return d},multiply:function(b,d,e){e||(e=b);var f=b[0],g=b[1],k=b[2],h=b[3],m=b[4],l=b[5],n=b[6],p=b[7],t=b[8],u=b[9],q=b[10],r=b[11],v=b[12],y=b[13],z=b[14];b=b[15];var F=d[0],B=d[1],E=d[2],w=d[3],A=d[4],H=d[5],G=d[6],D=d[7],I=d[8],J=d[9],K=d[10],M=d[11],N=d[12],O=d[13],P=d[14];d=d[15];e[0]=F*f+B*m+E*t+w*v;e[1]=F*g+B*l+E*u+w*y;e[2]=F*k+B*n+E*q+w*z;e[3]=F*h+B*p+E*r+w*
b;e[4]=A*f+H*m+G*t+D*v;e[5]=A*g+H*l+G*u+D*y;e[6]=A*k+H*n+G*q+D*z;e[7]=A*h+H*p+G*r+D*b;e[8]=I*f+J*m+K*t+M*v;e[9]=I*g+J*l+K*u+M*y;e[10]=I*k+J*n+K*q+M*z;e[11]=I*h+J*p+K*r+M*b;e[12]=N*f+O*m+P*t+d*v;e[13]=N*g+O*l+P*u+d*y;e[14]=N*k+O*n+P*q+d*z;e[15]=N*h+O*p+P*r+d*b;return e},multiplyVec3:function(b,d,e){e||(e=d);var f=d[0],g=d[1];d=d[2];e[0]=b[0]*f+b[4]*g+b[8]*d+b[12];e[1]=b[1]*f+b[5]*g+b[9]*d+b[13];e[2]=b[2]*f+b[6]*g+b[10]*d+b[14];return e},multiplyVec4:function(b,d,e){e||(e=d);var f=d[0],g=d[1],k=d[2];
d=d[3];e[0]=b[0]*f+b[4]*g+b[8]*k+b[12]*d;e[1]=b[1]*f+b[5]*g+b[9]*k+b[13]*d;e[2]=b[2]*f+b[6]*g+b[10]*k+b[14]*d;e[3]=b[3]*f+b[7]*g+b[11]*k+b[15]*d;return e},translate:function(b,d,e){var f=d[0],g=d[1];d=d[2];if(!e||b==e)return b[12]=b[0]*f+b[4]*g+b[8]*d+b[12],b[13]=b[1]*f+b[5]*g+b[9]*d+b[13],b[14]=b[2]*f+b[6]*g+b[10]*d+b[14],b[15]=b[3]*f+b[7]*g+b[11]*d+b[15],b;var k=b[0],h=b[1],m=b[2],l=b[3],n=b[4],p=b[5],t=b[6],r=b[7],q=b[8],x=b[9],v=b[10],y=b[11];e[0]=k;e[1]=h;e[2]=m;e[3]=l;e[4]=n;e[5]=p;e[6]=t;e[7]=
r;e[8]=q;e[9]=x;e[10]=v;e[11]=y;e[12]=k*f+n*g+q*d+b[12];e[13]=h*f+p*g+x*d+b[13];e[14]=m*f+t*g+v*d+b[14];e[15]=l*f+r*g+y*d+b[15];return e},scale:function(b,d){var e=d[0],f=d[1];d=d[2];b[0]*=e;b[1]*=e;b[2]*=e;b[3]*=e;b[4]*=f;b[5]*=f;b[6]*=f;b[7]*=f;b[8]*=d;b[9]*=d;b[10]*=d;b[11]*=d;return b},rotate:function(b,d,e,f){var g=e[0],k=e[1];e=e[2];var h=Math.sqrt(g*g+k*k+e*e);if(!h)return null;1!=h&&(h=1/h,g*=h,k*=h,e*=h);f=Math.sin(d);var m=Math.cos(d),l=1-m;d=b[0];h=b[1];var n=b[2],p=b[3],r=b[4],u=b[5],
q=b[6],v=b[7],z=b[8],y=b[9],C=b[10],F=b[11],B=g*g*l+m,E=k*g*l+e*f,w=e*g*l-k*f,A=g*k*l-e*f,H=k*k*l+m,G=e*k*l+g*f,D=g*e*l+k*f;g=k*e*l-g*f;k=e*e*l+m;f=b;f[0]=d*B+r*E+z*w;f[1]=h*B+u*E+y*w;f[2]=n*B+q*E+C*w;f[3]=p*B+v*E+F*w;f[4]=d*A+r*H+z*G;f[5]=h*A+u*H+y*G;f[6]=n*A+q*H+C*G;f[7]=p*A+v*H+F*G;f[8]=d*D+r*g+z*k;f[9]=h*D+u*g+y*k;f[10]=n*D+q*g+C*k;f[11]=p*D+v*g+F*k;return f},frustum:function(b,d,e,f,g,k,h){h||(h=r.create());var m=d-b,l=f-e,n=k-g;h[0]=2*g/m;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2*g/l;h[6]=0;h[7]=0;
h[8]=(d+b)/m;h[9]=(f+e)/l;h[10]=-(k+g)/n;h[11]=-1;h[12]=0;h[13]=0;h[14]=-(k*g*2)/n;h[15]=0;return h},perspective:function(b,d,e,f,g){b=e*Math.tan(b*Math.PI/360);d*=b;return r.frustum(-d,d,-b,b,e,f,g)},ortho:function(b,d,e,f,g,k,h){h||(h=r.create());var m=d-b,l=f-e,n=k-g;h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/l;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/n;h[11]=0;h[12]=-(b+d)/m;h[13]=-(f+e)/l;h[14]=-(k+g)/n;h[15]=1;return h}}})();
